



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Scone Documentation - Secure Containers">
      
      
        <link rel="canonical" href="https://sconedocs.github.io/faq/">
      
      
        <meta name="author" content="Christof Fetzer">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../img/scone-favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.2">
    
    
      
        <title>FAQ - SCONE</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.30686662.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#3f51b5">
      
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#frequently-asked-questions" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://sconedocs.github.io" title="SCONE" class="md-header-nav__button md-logo">
          
            <img src="../img/logo-yellow-square.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              SCONE
            </span>
            <span class="md-header-nav__topic">
              
                FAQ
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search documentation" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://sconedocs.github.io" title="SCONE" class="md-nav__button md-logo">
      
        <img src="../img/logo-yellow-square.png" width="48" height="48">
      
    </a>
    SCONE
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Introduction
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Introduction
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href=".." title="Executive summary" class="md-nav__link">
      Executive summary
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../advantages/" title="Advantages of SCONE" class="md-nav__link">
      Advantages of SCONE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../technical_summary/" title="Technical summary of SCONE" class="md-nav__link">
      Technical summary of SCONE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../buildingApps/" title="(No) Cross-Compilation" class="md-nav__link">
      (No) Cross-Compilation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../curated_images/" title="Curated Images" class="md-nav__link">
      Curated Images
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Tutorial
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Tutorial
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../scone-use-case-overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../secure_remote_execution/" title="Secure Remote Execution" class="md-nav__link">
      Secure Remote Execution
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dockerfileexample/" title="Dockerfile Example" class="md-nav__link">
      Dockerfile Example
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../multistagebuild/" title="Multi-stage build" class="md-nav__link">
      Multi-stage build
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../groupcacheUseCase/" title="GO example" class="md-nav__link">
      GO example
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../memory_dump/" title="Finding Secrets" class="md-nav__link">
      Finding Secrets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dapps/" title="Trusted DApps" class="md-nav__link">
      Trusted DApps
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Configuration & Attestation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Configuration & Attestation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../CASOverview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cas_intro/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../CASIntro/" title="Starting CAS" class="md-nav__link">
      Starting CAS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../LASIntro/" title="Starting LAS" class="md-nav__link">
      Starting LAS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cas_blender_example/" title="Posting Sessions" class="md-nav__link">
      Posting Sessions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../print-arg-env/" title="Secure Arguments" class="md-nav__link">
      Secure Arguments
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../EncryptedWordCount/" title="Encrypted Code and Input" class="md-nav__link">
      Encrypted Code and Input
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Use Cases
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Use Cases
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../usecases/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../blender/" title="Blender" class="md-nav__link">
      Blender
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pyspark/" title="PySpark" class="md-nav__link">
      PySpark
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tensorflow/" title="TensorFlow" class="md-nav__link">
      TensorFlow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tensorflowlite/" title="TensorFlow Lite" class="md-nav__link">
      TensorFlow Lite
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vault/" title="Vault" class="md-nav__link">
      Vault
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Execution Modes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Execution Modes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../outline/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../firstcontainer/" title="Simulation Mode" class="md-nav__link">
      Simulation Mode
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../hardwaremode/" title="Hardware Mode" class="md-nav__link">
      Hardware Mode
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../hostexample/" title="Host Execution" class="md-nav__link">
      Host Execution
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Installation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Installation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../installation/" title="Installation overview" class="md-nav__link">
      Installation overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dockerinstall/" title="Installing docker" class="md-nav__link">
      Installing docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sgxinstall/" title="Installing Intel SGX driver" class="md-nav__link">
      Installing Intel SGX driver
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sconeinstall/" title="Installing SCONE" class="md-nav__link">
      Installing SCONE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../microcode/" title="Updating CPU microcode" class="md-nav__link">
      Updating CPU microcode
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../iexec_install/" title="Patched driver & engine" class="md-nav__link">
      Patched driver & engine
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Language Support
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Language Support
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../C/" title="C" class="md-nav__link">
      C
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../C++/" title="C++" class="md-nav__link">
      C++
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Fortran/" title="Fortran" class="md-nav__link">
      Fortran
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../GO/" title="GO" class="md-nav__link">
      GO
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Java/" title="Java" class="md-nav__link">
      Java
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Python/" title="Python" class="md-nav__link">
      Python
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pypyscone/" title="PyPy" class="md-nav__link">
      PyPy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Nodejs/" title="Node" class="md-nav__link">
      Node
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../R/" title="R" class="md-nav__link">
      R
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Rust/" title="Rust" class="md-nav__link">
      Rust
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      IDE Integration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        IDE Integration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../eclipse/" title="Eclipse" class="md-nav__link">
      Eclipse
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Command Line Interface
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Command Line Interface
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_CLI/" title="SCONE CLI" class="md-nav__link">
      SCONE CLI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_toolchain/" title="SCONE SGX toolchain" class="md-nav__link">
      SCONE SGX toolchain
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_Curated_Images/" title="SCONE Curated Images" class="md-nav__link">
      SCONE Curated Images
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_TUTORIAL/" title="SCONE Static vs Dynamic" class="md-nav__link">
      SCONE Static vs Dynamic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_GENERATE_IMAGE/" title="SCONE Create Image" class="md-nav__link">
      SCONE Create Image
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_Dockerfile/" title="SCONE Dockerfile" class="md-nav__link">
      SCONE Dockerfile
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Manuals
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Manuals
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_Fileshield/" title="scone fspf" class="md-nav__link">
      scone fspf
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_ENV/" title="environment variables" class="md-nav__link">
      environment variables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../MrEnclave/" title="MrEnclave" class="md-nav__link">
      MrEnclave
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../fork/" title="fork" class="md-nav__link">
      fork
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../performance/" title="Performance" class="md-nav__link">
      Performance
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      Background
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        Background
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../appsecurity/" title="Application-Oriented Security" class="md-nav__link">
      Application-Oriented Security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../background/" title="SCONE Background" class="md-nav__link">
      SCONE Background
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../SCONE_Publications/" title="Publications" class="md-nav__link">
      Publications
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../aboutScone/" title="About" class="md-nav__link">
      About
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../glossary/" title="Glossary" class="md-nav__link">
      Glossary
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        FAQ
      </label>
    
    <a href="./" title="FAQ" class="md-nav__link md-nav__link--active">
      FAQ
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#attestation" class="md-nav__link">
    Attestation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-can-i-verify-the-authenticity-and-integrity-of-my-running-running-in-enclave-if-i-access-it-remotely" class="md-nav__link">
    How can I verify the authenticity and integrity of my running running in enclave, if I access it remotely?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-do-i-bind-an-interpreter-python-javascript-java-with-its-scriptsprograms-in-a-secure-container" class="md-nav__link">
    How do I bind an interpreter (Python, JavaScript, Java) with its scripts/programs in a secure container?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-can-one-restrict-the-initial-script-that-the-protected-interpreter-executes" class="md-nav__link">
    How can one restrict the initial script that the protected interpreter executes?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-can-i-pass-secrets-to-my-enclave" class="md-nav__link">
    How can I pass secrets to my enclave?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simulation-mode" class="md-nav__link">
    Simulation Mode
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#program-crashesstops-in-simulation-mode" class="md-nav__link">
    Program crashes/stops in simulation mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#has-my-cpu-sufficient-features-for-simulation-mode" class="md-nav__link">
    Has my CPU sufficient features for simulation mode?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#memory-related-issues" class="md-nav__link">
    Memory related issues
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#my-processenclave-is-getting-killed-without-any-error-message" class="md-nav__link">
    My process/enclave is getting killed without any error message
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#my-machine-has-lots-of-main-memory-but-still-processes-are-getting-killed" class="md-nav__link">
    My machine has lots of main memory but still processes are getting killed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#my-program-does-not-start-up" class="md-nav__link">
    My program does not start up
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#my-program-has-a-very-large-virt-memory-footprint" class="md-nav__link">
    My program has a very large VIRT memory footprint
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#crash-failures" class="md-nav__link">
    Crash Failures
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#my-program-crashes-gets-killed" class="md-nav__link">
    My program crashes / gets killed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-inside-of-enclaves" class="md-nav__link">
    Running inside of enclaves
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-do-i-know-that-i-run-inside-of-an-enclave" class="md-nav__link">
    How do I know that I run inside of an enclave?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-can-i-experimentally-show-that-i-run-inside-of-an-enclave" class="md-nav__link">
    How can I experimentally show that I run inside of an enclave?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-can-i-enforceverify-that-a-serviceprogram-runs-inside-of-an-enclave" class="md-nav__link">
    How can I enforce/verify that a service/program runs inside of an enclave?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#does-scone-support-enclaves-in-production-mode" class="md-nav__link">
    Does SCONE support enclaves in production mode?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shielding" class="md-nav__link">
    Shielding
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#does-scone-ensure-the-security-of-incoming-and-outgoing-tcp-connections-tofrom-a-service-running-in-an-enclave" class="md-nav__link">
    Does SCONE ensure the security of incoming and outgoing TCP connections to/from a service running in an enclave?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-do-i-encrypt-stdinstdoutstderr" class="md-nav__link">
    How do I encrypt stdin/stdout/stderr?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-do-i-encrypt-pipes" class="md-nav__link">
    How do I encrypt pipes?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-do-i-encrypt-tcp-connections" class="md-nav__link">
    How do I encrypt TCP connections?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-do-i-transparently-encryptdecrypt-files" class="md-nav__link">
    How do I transparently encrypt/decrypt files?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#are-all-files-in-a-container-encrypted" class="md-nav__link">
    Are all files in a container encrypted?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-do-i-need-to-do-to-protect-the-files-my-service-needs-eg-https-encryption-key-and-certificate" class="md-nav__link">
    What do I need to do to protect the files my service needs, e.g. HTTPS encryption key and certificate
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-libraries" class="md-nav__link">
    Dynamic Libraries
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-are-protected-dynamic-libraries" class="md-nav__link">
    What are protected dynamic libraries?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-are-unprotected-dynamic-libraries" class="md-nav__link">
    What are unprotected dynamic libraries?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#encrypted-code-and-libraries" class="md-nav__link">
    Encrypted Code and Libraries
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#library-path" class="md-nav__link">
    Library Path
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resource-usage" class="md-nav__link">
    Resource Usage
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cpu-utilization-number-of-threads-is-higher-than-in-native-mode" class="md-nav__link">
    CPU utilization / number of threads is higher than in native mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-cpu-utilization-is-still-higher-than-in-native-mode" class="md-nav__link">
    The CPU utilization is still higher than in native mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-memory-usage-is-higher-than-in-native-mode" class="md-nav__link">
    The memory usage is higher than in native mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#high-startup-times" class="md-nav__link">
    High startup times
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#side-channel-protection" class="md-nav__link">
    Side-Channel Protection
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unimplemented-functions" class="md-nav__link">
    Unimplemented Functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#some-function-returns-enosys" class="md-nav__link">
    Some function returns ENOSYS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#driver-issues" class="md-nav__link">
    Driver Issues
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#no-access-to-sgx-device" class="md-nav__link">
    No Access to SGX device
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#attestation" class="md-nav__link">
    Attestation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-can-i-verify-the-authenticity-and-integrity-of-my-running-running-in-enclave-if-i-access-it-remotely" class="md-nav__link">
    How can I verify the authenticity and integrity of my running running in enclave, if I access it remotely
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-do-i-bind-an-interpreter-python-javascript-java-with-its-scriptsprograms-in-a-secure-container" class="md-nav__link">
    How do I bind an interpreter (Python, JavaScript, Java) with its scripts/programs in a secure container?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-can-one-restrict-the-initial-script-that-the-protected-interpreter-executes" class="md-nav__link">
    How can one restrict the initial script that the protected interpreter executes?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-can-i-pass-secrets-to-my-enclave" class="md-nav__link">
    How can I pass secrets to my enclave?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simulation-mode" class="md-nav__link">
    Simulation Mode
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#program-crashesstops-in-simulation-mode" class="md-nav__link">
    Program crashes/stops in simulation mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#has-my-cpu-sufficient-features-for-simulation-mode" class="md-nav__link">
    Has my CPU sufficient features for simulation mode?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#memory-related-issues" class="md-nav__link">
    Memory related issues
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#my-processenclave-is-getting-killed-without-any-error-message" class="md-nav__link">
    My process/enclave is getting killed without any error message
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#my-machine-has-lots-of-main-memory-but-still-processes-are-getting-killed" class="md-nav__link">
    My machine has lots of main memory but still processes are getting killed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#my-program-does-not-start-up" class="md-nav__link">
    My program does not start up
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#my-program-has-a-very-large-virt-memory-footprint" class="md-nav__link">
    My program has a very large VIRT memory footprint
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#crash-failures" class="md-nav__link">
    Crash Failures
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#my-program-crashes-gets-killed" class="md-nav__link">
    My program crashes / gets killed
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-inside-of-enclaves" class="md-nav__link">
    Running inside of enclaves
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-do-i-know-that-i-run-inside-of-an-enclave" class="md-nav__link">
    How do I know that I run inside of an enclave?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-can-i-experimentally-show-that-i-run-inside-of-an-enclave" class="md-nav__link">
    How can I experimentally show that I run inside of an enclave?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-can-i-enforceverify-that-a-serviceprogram-runs-inside-of-an-enclave" class="md-nav__link">
    How can I enforce/verify that a service/program runs inside of an enclave?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#does-scone-support-enclaves-in-production-mode" class="md-nav__link">
    Does SCONE support enclaves in production mode?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shielding" class="md-nav__link">
    Shielding
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#does-scone-ensure-the-security-of-incoming-and-outgoing-tcp-connections-tofrom-a-service-running-in-an-enclave" class="md-nav__link">
    Does SCONE ensure the security of incoming and outgoing TCP connections to/from a service running in an enclave?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-do-i-encrypt-stdinstdoutstderr" class="md-nav__link">
    How do I encrypt stdin/stdout/stderr?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-do-i-encrypt-pipes" class="md-nav__link">
    How do I encrypt pipes?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-do-i-encrypt-tcp-connections" class="md-nav__link">
    How do I encrypt TCP connections?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-do-i-transparently-encryptdecrypt-files" class="md-nav__link">
    How do I transparently encrypt/decrypt files?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#are-all-files-in-a-container-encrypted" class="md-nav__link">
    Are all files in a container encrypted?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-do-i-need-to-do-to-protect-the-files-my-service-needs-eg-https-encryption-key-and-certificate" class="md-nav__link">
    What do I need to do to protect the files my service needs, e.g. HTTPS encryption key and certificate
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-libraries" class="md-nav__link">
    Dynamic Libraries
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-are-protected-dynamic-libraries" class="md-nav__link">
    What are protected dynamic libraries?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-are-unprotected-dynamic-libraries" class="md-nav__link">
    What are unprotected dynamic libraries?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#encrypted-code-and-libraries" class="md-nav__link">
    Encrypted Code and Libraries
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#library-path" class="md-nav__link">
    Library Path
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resource-usage" class="md-nav__link">
    Resource Usage
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cpu-utilization-number-of-threads-is-higher-than-in-native-mode" class="md-nav__link">
    CPU utilization / number of threads is higher than in native mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-cpu-utilization-is-still-higher-than-in-native-mode" class="md-nav__link">
    The CPU utilization is still higher than in native mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-memory-usage-is-higher-than-in-native-mode" class="md-nav__link">
    The memory usage is higher than in native mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#high-startup-times" class="md-nav__link">
    High startup times
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#side-channel-protection" class="md-nav__link">
    Side-Channel Protection
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unimplemented-functions" class="md-nav__link">
    Unimplemented Functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#some-function-returns-enosys" class="md-nav__link">
    Some function returns ENOSYS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#driver-issues" class="md-nav__link">
    Driver Issues
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#no-access-to-sgx-device" class="md-nav__link">
    No Access to SGX device
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="frequently-asked-questions">Frequently Asked Questions<a class="headerlink" href="#frequently-asked-questions" title="Permanent link">&para;</a></h1>
<h2 id="attestation">Attestation<a class="headerlink" href="#attestation" title="Permanent link">&para;</a></h2>
<h3 id="how-can-i-verify-the-authenticity-and-integrity-of-my-running-running-in-enclave-if-i-access-it-remotely">How can I verify the authenticity and integrity of my running running in enclave, if I access it remotely<a class="headerlink" href="#how-can-i-verify-the-authenticity-and-integrity-of-my-running-running-in-enclave-if-i-access-it-remotely" title="Permanent link">&para;</a></h3>
<p>One approach is to store the encrypted certificate in an encrypted file region and SCONE CAS gives the service access to the file key only after a successful attestation. If the service can authenticate itself with the correct certificate, this means that it passed the attestation.</p>
<h3 id="how-do-i-bind-an-interpreter-python-javascript-java-with-its-scriptsprograms-in-a-secure-container">How do I bind an interpreter (Python, JavaScript, Java) with its scripts/programs in a secure container?<a class="headerlink" href="#how-do-i-bind-an-interpreter-python-javascript-java-with-its-scriptsprograms-in-a-secure-container" title="Permanent link">&para;</a></h3>
<p>The problem is that the scripts/programs are not measured during the attestation of the enclave, i.e., it is not included in <strong>MrEnclave</strong>.
This code must be protected with the SCONE file shield, i.e., this must be encrypted and/or authenticated. The current state of the file system is checked during attestation and
this ensures the <strong>integrity</strong> of the code (i.e., no modification), the <strong>freshness</strong> (i.e., no old
version is used), and the <strong>confidentiality</strong> (i.e., an adversary cannot see the code - in case the
code is stored an encrypted file region).</p>
<p>In the next version of SCONE, we will by default enable an option in which all files must be encrypted/authenticated, i.e., any access to an unprotected file will fail.</p>
<h3 id="how-can-one-restrict-the-initial-script-that-the-protected-interpreter-executes">How can one restrict the initial script that the protected interpreter executes?<a class="headerlink" href="#how-can-one-restrict-the-initial-script-that-the-protected-interpreter-executes" title="Permanent link">&para;</a></h3>
<p>The arguments of the code executed inside of an enclave must be passed via SCONE CAS. In other words, the initial script is protected by CAS, i.e., by passing the arguments to Python only
after attestation via a secure channel directly into the enclave.</p>
<p>In the next version of SCONE, we will by default enable an option in which all files must be encrypted/authenticated, i.e., any access to an unprotected file will fail.  This means that
only code that is already include in an encrypted / authenticated file region can be executed.  </p>
<h3 id="how-can-i-pass-secrets-to-my-enclave">How can I pass secrets to my enclave?<a class="headerlink" href="#how-can-i-pass-secrets-to-my-enclave" title="Permanent link">&para;</a></h3>
<p>You could pass these secrets as environment variables via CAS or you can store these in encrypted files. SCONE will pass the environment variables and the file encryption key only after a successful attestation to the application via TLS.</p>
<h2 id="simulation-mode">Simulation Mode<a class="headerlink" href="#simulation-mode" title="Permanent link">&para;</a></h2>
<h3 id="program-crashesstops-in-simulation-mode">Program crashes/stops in simulation mode<a class="headerlink" href="#program-crashesstops-in-simulation-mode" title="Permanent link">&para;</a></h3>
<p>Simulation mode assumes a modern CPU with instructions like AESNI
and SSE and AVX extensions. If they are not available, your
program will exit with an error message.</p>
<h3 id="has-my-cpu-sufficient-features-for-simulation-mode">Has my CPU sufficient features for simulation mode?<a class="headerlink" href="#has-my-cpu-sufficient-features-for-simulation-mode" title="Permanent link">&para;</a></h3>
<p>Just run the following program to check if your CPU has sufficient
features for simulation mode:</p>
<div class="codehilite"><pre><span></span>docker run --rm sconecuratedimages/apps:check_cpuid
</pre></div>

<h2 id="memory-related-issues">Memory related issues<a class="headerlink" href="#memory-related-issues" title="Permanent link">&para;</a></h2>
<h3 id="my-processenclave-is-getting-killed-without-any-error-message">My process/enclave is getting killed without any error message<a class="headerlink" href="#my-processenclave-is-getting-killed-without-any-error-message" title="Permanent link">&para;</a></h3>
<p><em>Context</em>: For SGX version 1, we have to preallocate all memory an enclave can use during its startup. This means that the enclave might request so much memory that the Linux Out-Of-Memory-Killer might kill the process in which this enclave runs. Ensure that you have enough free main memory such that your enclave can start.</p>
<h3 id="my-machine-has-lots-of-main-memory-but-still-processes-are-getting-killed">My machine has lots of main memory but still processes are getting killed<a class="headerlink" href="#my-machine-has-lots-of-main-memory-but-still-processes-are-getting-killed" title="Permanent link">&para;</a></h3>
<p>Try to figure out - using tools like top - which processes are using up your memory. Sometimes, you might have too many active docker containers running: check this with <code class="codehilite"><span class="n">docker</span> <span class="n">ps</span> <span class="o">-</span><span class="n">a</span></code>. Try to run docker containers  with <code class="codehilite"><span class="n">docker</span> <span class="n">run</span> <span class="c1">--rm</span></code> to enforce automatic cleanup after a container exits.</p>
<h3 id="my-program-does-not-start-up">My program does not start up<a class="headerlink" href="#my-program-does-not-start-up" title="Permanent link">&para;</a></h3>
<p><em>Context</em>: For SGX version 1, we have to preallocate all memory an enclave can use during its startup. We cannot estimate how much memory your application needs. Hence, for SGX version 1, we provide environment variables 
<a href="SCONE_ENV/#memory-related-environment-variables">SCONE_HEAP</a> and <a href="SCONE_ENV/#memory-related-environment-variables">SCONE_STACK</a>.</p>
<p>For Java and GO programs, set <strong>SCONE_HEAP</strong> to at least <em>1G</em>. The default heap size is 64MB.</p>
<p>The default stack size is 64KBytes. This is too little for some applications like Python and MariaDB. A good value for applications that use lots of stack seem to be 4MBytes, i.e., set <code class="codehilite"><span class="n">export</span>  <span class="n">SCONE_STACK</span><span class="o">=</span><span class="mi">4</span><span class="n">M</span></code>.</p>
<h3 id="my-program-has-a-very-large-virt-memory-footprint">My program has a very large VIRT memory footprint<a class="headerlink" href="#my-program-has-a-very-large-virt-memory-footprint" title="Permanent link">&para;</a></h3>
<p>SCONE reserves 64GB of the <strong>virtual address space</strong> for each enclave using the SGX driver.
Hence, when monitoring a process, e.g., with <strong>top</strong>, <strong>VIRT</strong> is reported as at least <strong>64g</strong>. Note that
the important measure is the physical memory used:  <strong>top</strong> reports this in column <strong>RES</strong> (given in KiB)).</p>
<h2 id="crash-failures">Crash Failures<a class="headerlink" href="#crash-failures" title="Permanent link">&para;</a></h2>
<h3 id="my-program-crashes-gets-killed">My program crashes / gets killed<a class="headerlink" href="#my-program-crashes-gets-killed" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>SGX version 1: check that your program has a sufficiently large heap by setting environment variable <strong>SCONE_HEAP</strong> (<a href="#memory-related-issues">see above</a>)</p>
</li>
<li>
<p>SGX version 1: check that your program has sufficiently large stacks by setting environment variable <strong>SCONE_STACK</strong> (<a href="#memory-related-issues">see above</a>).</p>
</li>
<li>
<p>SGX version 1: check that you machine has sufficient main memory <a href="#memory-related-issues">see above</a>)</p>
</li>
<li>
<p>Run your program with <a href="GO/#debugging"><strong>scone-gdb</strong></a> to determine where your program crashes</p>
</li>
</ul>
<h2 id="running-inside-of-enclaves">Running inside of enclaves<a class="headerlink" href="#running-inside-of-enclaves" title="Permanent link">&para;</a></h2>
<h3 id="how-do-i-know-that-i-run-inside-of-an-enclave">How do I know that I run inside of an enclave?<a class="headerlink" href="#how-do-i-know-that-i-run-inside-of-an-enclave" title="Permanent link">&para;</a></h3>
<ul>
<li>Set environment variable <a href="SCONE_ENV/#debug"><strong>SCONE_VERSION=1</strong></a>: you will see in what <a href="SCONE_ENV/#run-mode">mode</a> your program is running.</li>
</ul>
<h3 id="how-can-i-experimentally-show-that-i-run-inside-of-an-enclave">How can I experimentally show that I run inside of an enclave?<a class="headerlink" href="#how-can-i-experimentally-show-that-i-run-inside-of-an-enclave" title="Permanent link">&para;</a></h3>
<p>Please check out our <a href="memory_dump">memory dump tutorial</a> on this.</p>
<h3 id="how-can-i-enforceverify-that-a-serviceprogram-runs-inside-of-an-enclave">How can I enforce/verify that a service/program runs inside of an enclave?<a class="headerlink" href="#how-can-i-enforceverify-that-a-serviceprogram-runs-inside-of-an-enclave" title="Permanent link">&para;</a></h3>
<p>You need to attest that your program runs inside of an enclave. SCONE supports transparent attestation with the help of <a href="../print-arg-env/">CAS</a>.</p>
<p>On the application level, one often does not want to perform an explicit attestation but an implicit attestation with the help of TLS to reduce/eliminate the amount of reengineering that is needed. The idea is that a service can only provide the correct TLS certificate if it runs inside an enclave. To do so,
 one would give the enclave an encrypted TLS private key in the file system (can be generate by Scone CAS if this is requested) and the enclave gets only access to the encryption key after a successful attestation. The decryption of the TLS private key is done transparently by SCONE.</p>
<h3 id="does-scone-support-enclaves-in-production-mode">Does SCONE support enclaves in production mode?<a class="headerlink" href="#does-scone-support-enclaves-in-production-mode" title="Permanent link">&para;</a></h3>
<p>Note that by default SCONE runs in debug or pre-release mode. For production enclaves, you still need to get an enclave signer key from Intel. This will change when Intel makes <strong>flexible launch control</strong> available.</p>
<h2 id="shielding">Shielding<a class="headerlink" href="#shielding" title="Permanent link">&para;</a></h2>
<h3 id="does-scone-ensure-the-security-of-incoming-and-outgoing-tcp-connections-tofrom-a-service-running-in-an-enclave">Does SCONE ensure the security of incoming and outgoing TCP connections to/from a service running in an enclave?<a class="headerlink" href="#does-scone-ensure-the-security-of-incoming-and-outgoing-tcp-connections-tofrom-a-service-running-in-an-enclave" title="Permanent link">&para;</a></h3>
<p>Please use TLS in your service. If your service does not support TLS out of the box,
use our TCP shield.</p>
<h3 id="how-do-i-encrypt-stdinstdoutstderr">How do I encrypt stdin/stdout/stderr?<a class="headerlink" href="#how-do-i-encrypt-stdinstdoutstderr" title="Permanent link">&para;</a></h3>
<p>Send us an email on how to use the terminal shield</p>
<h3 id="how-do-i-encrypt-pipes">How do I encrypt pipes?<a class="headerlink" href="#how-do-i-encrypt-pipes" title="Permanent link">&para;</a></h3>
<p>Send us an email regarding the encryption of pipes.</p>
<h3 id="how-do-i-encrypt-tcp-connections">How do I encrypt TCP connections?<a class="headerlink" href="#how-do-i-encrypt-tcp-connections" title="Permanent link">&para;</a></h3>
<p>Context: Services like <em>memcached</em> do not support TLS out of the box. Send us an email on how to use the TCP shield.</p>
<h3 id="how-do-i-transparently-encryptdecrypt-files">How do I transparently encrypt/decrypt files?<a class="headerlink" href="#how-do-i-transparently-encryptdecrypt-files" title="Permanent link">&para;</a></h3>
<p>Enable the file shield.</p>
<h3 id="are-all-files-in-a-container-encrypted">Are all files in a container encrypted?<a class="headerlink" href="#are-all-files-in-a-container-encrypted" title="Permanent link">&para;</a></h3>
<p>No, only those in an encrypted file region.</p>
<h3 id="what-do-i-need-to-do-to-protect-the-files-my-service-needs-eg-https-encryption-key-and-certificate">What do I need to do to protect the files my service needs, e.g. HTTPS encryption key and certificate<a class="headerlink" href="#what-do-i-need-to-do-to-protect-the-files-my-service-needs-eg-https-encryption-key-and-certificate" title="Permanent link">&para;</a></h3>
<p>You need to encrypt them when you build you container image.</p>
<h2 id="dynamic-libraries">Dynamic Libraries<a class="headerlink" href="#dynamic-libraries" title="Permanent link">&para;</a></h2>
<h3 id="what-are-protected-dynamic-libraries">What are protected dynamic libraries?<a class="headerlink" href="#what-are-protected-dynamic-libraries" title="Permanent link">&para;</a></h3>
<p>The dynamic libraries loaded during start up of program are included in the hash of the enclave, i.e., any modification of any of these libraries will change <strong>MrEnclave</strong>. In that sense, the dynamic libraries are  <strong>integrity protected</strong> since any modifications will result in a failed attestation.</p>
<p>One can determine the dynamic libraries which are loaded during startup with command <strong>ldd</strong> for native binaries. Note that depending how the binary is build (static linking, dynamic linking, for Alpine Linux or for Ubuntu), <strong>ldd</strong> might only print the dynamic libraries used to start the enclave.</p>
<p>To enable the loading of protected dynamic libraries, set environment variable <a href="SCONE_ENV/#dynamic-library-support"><strong>SCONE_ALLOW_DLOPEN=1</strong></a>. If you want to disallow this, undefine <strong>SCONE_ALLOW_DLOPEN</strong>.
<strong>SCONE_ALLOW_DLOPEN=2</strong> enables both protected as well as unprotected shared libraries.</p>
<h3 id="what-are-unprotected-dynamic-libraries">What are unprotected dynamic libraries?<a class="headerlink" href="#what-are-unprotected-dynamic-libraries" title="Permanent link">&para;</a></h3>
<p>An unprotected shared library is loaded after the program has started by the application with
a call to function <strong>dlopen</strong> (or similar). These libraries are not <strong>integrity protected</strong> by
MrEnclave since they are loaded after <strong>MrEnclave</strong> was computed. To ensure the integrity of
these shared library the have to be located in an authenticated or an encrypted file region.
In future, we plan to enforce this property.</p>
<p>To enable the loading of protected dynamic libraries after startup, set environment variable <strong>SCONE_ALLOW_DLOPEN=2</strong>. This will also enable loading libraries during startup.</p>
<h2 id="encrypted-code-and-libraries">Encrypted Code and Libraries<a class="headerlink" href="#encrypted-code-and-libraries" title="Permanent link">&para;</a></h2>
<p>One can encrypt code by pushing your main code in a shared library that is stored in an
encrypted file region. In this way, you can protect the integrity as well as the confidentiality
of your code.</p>
<h2 id="library-path">Library Path<a class="headerlink" href="#library-path" title="Permanent link">&para;</a></h2>
<p>If you experience undefined symbols like <code class="codehilite"><span class="n">__cxa_init_primary_exception</span></code>, ensure that your library path (<code class="codehilite"><span class="n">LD_LIBRARY_PATH</span></code>) is set such that if finds the SCONE libraries. For example, inside our SCONE crosscompiler container, you might set</p>
<div class="codehilite"><pre><span></span><span class="nb">export</span> <span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/opt/scone/cross-compiler/x86_64-linux-musl/lib/
</pre></div>

<h2 id="resource-usage">Resource Usage<a class="headerlink" href="#resource-usage" title="Permanent link">&para;</a></h2>
<h3 id="cpu-utilization-number-of-threads-is-higher-than-in-native-mode">CPU utilization / number of threads is higher than in native mode<a class="headerlink" href="#cpu-utilization-number-of-threads-is-higher-than-in-native-mode" title="Permanent link">&para;</a></h3>
<p>By default, we use multiple threads to serve inside the enclave and to serve system calls outside the enclave.
If theses threads have no work to do, they go to sleep.</p>
<p>You can reduce the number of threads / CPU utilization by specifying a SCONE <a href="SCONE_ENV/#format-of-scone-configuration-file">configuration file</a> which uses less threads. For example, you could use one thread inside the enclave and one outside the enclave with this configuration file:</p>
<div class="codehilite"><pre><span></span>cat &gt; /etc/sgx-musl.conf <span class="s">&lt;&lt; EOF</span>
<span class="s">Q 1</span>
<span class="s">e -1 0 0</span>
<span class="s">s -1 0 0</span>
<span class="s">EOF</span>
</pre></div>

<h3 id="the-cpu-utilization-is-still-higher-than-in-native-mode">The CPU utilization is still higher than in native mode<a class="headerlink" href="#the-cpu-utilization-is-still-higher-than-in-native-mode" title="Permanent link">&para;</a></h3>
<p>In our experience, then newest version of SCONE needs less than 1-2% CPU utilization when a service is idling.</p>
<p>If the CPU utilization of a service is higher than the native version during idle periods, you could try to tune the <a href="SCONE_ENV/#format-of-scone-configuration-file">the backoff behavior of the queues</a> by setting parameters <strong>L</strong> and <strong>P</strong> appropriately. Note that the standard values should in most cases do not need any tuning.</p>
<h3 id="the-memory-usage-is-higher-than-in-native-mode">The memory usage is higher than in native mode<a class="headerlink" href="#the-memory-usage-is-higher-than-in-native-mode" title="Permanent link">&para;</a></h3>
<p>The issue is that SGX v1 enclaves must allocate all memory at startup since enclaves are fixed (- this will change with SGXv2). You can reduce memory consumption by setting <a href="SCONE_ENV/#memory-related-environment-variables">SCONE_HEAP and SCONE_STACK</a>. In SGX v2 we will allocate memory on demand, i.e., we will be more memory efficient.</p>
<p>Note that in SGX v2, we will be able to dynamically adjust the size of the heap and the stack sizes automatically, i.e.,
one does not need to allocate all memory in the beginning. This will also reduce the startup times.</p>
<h3 id="high-startup-times">High startup times<a class="headerlink" href="#high-startup-times" title="Permanent link">&para;</a></h3>
<p>Since in SGX v1 one needs to allocate all memory at the start of an enclave, startup times can be very large. In SGX v2, we will be able to dynamically scale the size of an enclave during runtime. Since we will allocate less memory during startup time, this will reduce the startup times.</p>
<h2 id="side-channel-protection">Side-Channel Protection<a class="headerlink" href="#side-channel-protection" title="Permanent link">&para;</a></h2>
<p>The newest microcode of new Intel CPUs protects against L1TF side channels when hyperthreading is disabled. Please ensure that your CPU microcode is up-to-date: You can follow the following instruction to  <a href="microcode">update the microcode of your CPU</a>.</p>
<h2 id="unimplemented-functions">Unimplemented Functions<a class="headerlink" href="#unimplemented-functions" title="Permanent link">&para;</a></h2>
<h3 id="some-function-returns-enosys">Some function returns ENOSYS<a class="headerlink" href="#some-function-returns-enosys" title="Permanent link">&para;</a></h3>
<p>Sometimes it is difficult to diagnose why a function fails. In most cases, the issue is that we do not yet support <strong>fork</strong>. Note that SCONE supports <strong>vfork</strong>. </p>
<p>You can check which functions might not be supported by running your application
with environment variable <strong>SCONE_LOG=7</strong>.</p>
<h2 id="driver-issues">Driver Issues<a class="headerlink" href="#driver-issues" title="Permanent link">&para;</a></h2>
<h3 id="no-access-to-sgx-device">No Access to SGX device<a class="headerlink" href="#no-access-to-sgx-device" title="Permanent link">&para;</a></h3>
<p>Ensure that you <a href="sgxinstall/#check-if-the-sgx-driver-is-installed">installed the Intel SGX driver</a>  on your machine and that the SGX driver <a href="sgxinstall/#checking-availability-of-sgx-device-inside-of-containers">is accessible in your container</a>. </p>
<p>&copy; <a href="http://www.scontain.com">scontain.com</a>, Nov 2018. <a href="mailto:info@scontain.com">Questions or Suggestions?</a></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../glossary/" title="Glossary" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Glossary
              </span>
            </div>
          </a>
        
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright Scontain © 2019
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.c648116f.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>