



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Scone Documentation - Secure Containers">
      
      
        <link rel="canonical" href="https://sconedocs.github.io/scone_session/">
      
      
        <meta name="author" content="Christof Fetzer">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../img/scone-favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.3.0">
    
    
      
        <title>scone session - SCONE</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.572ca0f0.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#3f51b5">
      
    
    
      <script src="../assets/javascripts/modernizr.962652e9.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#scone-session" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://sconedocs.github.io" title="SCONE" class="md-header-nav__button md-logo">
          
            <img src="../img/logo-yellow-square.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                SCONE
              </span>
              <span class="md-header-nav__topic">
                scone session
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://sconedocs.github.io" title="SCONE" class="md-nav__button md-logo">
      
        <img src="../img/logo-yellow-square.png" width="48" height="48">
      
    </a>
    SCONE
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Introduction
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Introduction
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href=".." title="Executive summary" class="md-nav__link">
      Executive summary
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../advantages/" title="Advantages of SCONE" class="md-nav__link">
      Advantages of SCONE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../technical_summary/" title="Technical summary of SCONE" class="md-nav__link">
      Technical summary of SCONE
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Tutorial
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Tutorial
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../scone-use-case-overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../secure_remote_execution/" title="Secure Remote Execution" class="md-nav__link">
      Secure Remote Execution
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dockerfileexample/" title="Dockerfile Example" class="md-nav__link">
      Dockerfile Example
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../multistagebuild/" title="Multi-stage build" class="md-nav__link">
      Multi-stage build
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../groupcacheUseCase/" title="GO example" class="md-nav__link">
      GO example
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../memory_dump/" title="Finding Secrets" class="md-nav__link">
      Finding Secrets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dapps/" title="Trusted DApps" class="md-nav__link">
      Trusted DApps
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Use Cases
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Use Cases
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../usecases/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../blender/" title="Blender" class="md-nav__link">
      Blender
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pyspark/" title="PySpark" class="md-nav__link">
      PySpark
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tensorflowlite/" title="TensorFlow Lite" class="md-nav__link">
      TensorFlow Lite
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vault/" title="Vault" class="md-nav__link">
      Vault
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Execution Modes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Execution Modes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../outline/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../firstcontainer/" title="Simulation Mode" class="md-nav__link">
      Simulation Mode
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../hardwaremode/" title="Hardware Mode" class="md-nav__link">
      Hardware Mode
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../hostexample/" title="Host Execution" class="md-nav__link">
      Host Execution
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Installation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Installation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../installation/" title="Installation overview" class="md-nav__link">
      Installation overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dockerinstall/" title="Installing docker" class="md-nav__link">
      Installing docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sgxinstall/" title="Installing Intel SGX driver" class="md-nav__link">
      Installing Intel SGX driver
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sconeinstall/" title="Installing SCONE" class="md-nav__link">
      Installing SCONE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../microcode/" title="Updating CPU microcode" class="md-nav__link">
      Updating CPU microcode
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../iexec_install/" title="Patched driver & engine" class="md-nav__link">
      Patched driver & engine
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Language Support
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Language Support
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../C/" title="C" class="md-nav__link">
      C
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../C++/" title="C++" class="md-nav__link">
      C++
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Fortran/" title="Fortran" class="md-nav__link">
      Fortran
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../GO/" title="GO" class="md-nav__link">
      GO
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Java/" title="Java" class="md-nav__link">
      Java
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Python/" title="Python" class="md-nav__link">
      Python
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pypyscone/" title="PyPy" class="md-nav__link">
      PyPy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Nodejs/" title="Node" class="md-nav__link">
      Node
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../R/" title="R" class="md-nav__link">
      R
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Rust/" title="Rust" class="md-nav__link">
      Rust
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Command Line Interface
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Command Line Interface
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_CLI/" title="SCONE CLI" class="md-nav__link">
      SCONE CLI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_HOST_SETUP/" title="SCONE Host Setup" class="md-nav__link">
      SCONE Host Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_toolchain/" title="SCONE SGX toolchain" class="md-nav__link">
      SCONE SGX toolchain
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_Curated_Images/" title="SCONE Curated Images" class="md-nav__link">
      SCONE Curated Images
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_TUTORIAL/" title="SCONE Hello World" class="md-nav__link">
      SCONE Hello World
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_GENERATE_IMAGE/" title="SCONE Create Image" class="md-nav__link">
      SCONE Create Image
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_Dockerfile/" title="SCONE Dockerfile" class="md-nav__link">
      SCONE Dockerfile
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_Swarm_Example/" title="SCONE Swarm Example" class="md-nav__link">
      SCONE Swarm Example
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_Compose/" title="SCONE Compose" class="md-nav__link">
      SCONE Compose
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_CAS/" title="SCONE CAS" class="md-nav__link">
      SCONE CAS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_EE2EE/" title="Example E2E encryption" class="md-nav__link">
      Example E2E encryption
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Manuals
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Manuals
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_HOST/" title="scone host" class="md-nav__link">
      scone host
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_SERVICE/" title="scone service" class="md-nav__link">
      scone service
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_STACK/" title="scone stack" class="md-nav__link">
      scone stack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_SWARM/" title="scone swarm" class="md-nav__link">
      scone swarm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_Fileshield/" title="scone fspf" class="md-nav__link">
      scone fspf
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ssh/" title="ssh setup" class="md-nav__link">
      ssh setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_ENV/" title="environment variables" class="md-nav__link">
      environment variables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../MrEnclave/" title="MrEnclave" class="md-nav__link">
      MrEnclave
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../performance/" title="Performance" class="md-nav__link">
      Performance
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Background
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Background
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../appsecurity/" title="Application-Oriented Security" class="md-nav__link">
      Application-Oriented Security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../background/" title="SCONE Background" class="md-nav__link">
      SCONE Background
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../glossary/" title="Glossary" class="md-nav__link">
      Glossary
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../SCONE_Publications/" title="Publications" class="md-nav__link">
      Publications
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../aboutScone/" title="About" class="md-nav__link">
      About
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../faq/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#motivation" title="Motivation" class="md-nav__link">
    Motivation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#approach" title="Approach" class="md-nav__link">
    Approach
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem-no-trusted-party-to-manage-access-rights" title="Problem: No trusted party to manage access rights" class="md-nav__link">
    Problem: No trusted party to manage access rights
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approach-session-concept" title="Approach: Session Concept" class="md-nav__link">
    Approach: Session Concept
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problem-no-trusted-input-and-output" title="Problem: No Trusted Input and Output" class="md-nav__link">
    Problem: No Trusted Input and Output
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#approach-keys-are-always-encrypted" title="Approach: Keys are always encrypted" class="md-nav__link">
    Approach: Keys are always encrypted
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problem-authorization" title="Problem: Authorization" class="md-nav__link">
    Problem: Authorization
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#approach-multi-factor-authentication-and-authorization" title="Approach: Multi-factor authentication and authorization" class="md-nav__link">
    Approach: Multi-factor authentication and authorization
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-line-interface-scone-session" title="Command line interface: scone session" class="md-nav__link">
    Command line interface: scone session
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scone-session-create" title="scone session create" class="md-nav__link">
    scone session create
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#options" title="Options" class="md-nav__link">
    Options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#caveats" title="Caveats" class="md-nav__link">
    Caveats
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example" title="Example:" class="md-nav__link">
    Example:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scone-session-key" title="scone session key" class="md-nav__link">
    scone session key
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#options_1" title="Options" class="md-nav__link">
    Options
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scone-session-share-key-keyname-gentoken-session-sessionid" title="scone session share --key KEYNAME  --gentoken --session SESSIONID" class="md-nav__link">
    scone session share --key KEYNAME  --gentoken --session SESSIONID
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scone-session-join-session-session-id-token-token" title="scone session join --session SESSION-ID --token TOKEN" class="md-nav__link">
    scone session join --session SESSION-ID --token TOKEN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scone-session-import-token-token" title="scone session import --token TOKEN" class="md-nav__link">
    scone session import --token TOKEN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scone-session-checkpoint" title="scone session checkpoint" class="md-nav__link">
    scone session checkpoint
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scone-session-restore-session-sessionid-cas-url" title="scone session restore --session SESSIONID --CAS URL" class="md-nav__link">
    scone session restore --session SESSIONID --CAS URL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scone-session-remove-force" title="scone session remove --force" class="md-nav__link">
    scone session remove --force
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scone-session-activate-session-sessionid" title="scone session activate --session SESSIONID" class="md-nav__link">
    scone session activate --session SESSIONID
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-sconedocs-website" title="Example: Sconedocs website" class="md-nav__link">
    Example: Sconedocs website
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-signing-apt-packages" title="Example: Signing APT packages" class="md-nav__link">
    Example: Signing APT packages
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sharing-keys" title="Sharing Keys" class="md-nav__link">
    Sharing Keys
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="scone-session">scone session<a class="headerlink" href="#scone-session" title="Permanent link">&para;</a></h1>
<p>A <strong>session</strong> is a unique namespace that is used for the management of keys associated with the execution of an application. <strong>scone session</strong> manages keys and their access rights in the context of scone-based applications.</p>
<h2 id="motivation">Motivation<a class="headerlink" href="#motivation" title="Permanent link">&para;</a></h2>
<p>The management of keys is one of the important problems to be addressed when building secure cloud applications. Here are some typical questions that need to be addressed:</p>
<ul>
<li>
<p>how to generate keys in a secure fashion?</p>
</li>
<li>
<p>how to share keys between different applications?</p>
</li>
<li>
<p>how to prevent unauthorized access to keys?</p>
</li>
<li>
<p>how to ensure that keys stay confidential - despite, for example,  administrator churn.</p>
</li>
<li>
<p>how to ensure that no human can read keys?</p>
</li>
</ul>
<p>More advanced questions that we need to address is on how to ensure company policies, like</p>
<ul>
<li>
<p>how to enforce company policy regarding which versions of a binary are permitted to be executed?</p>
</li>
<li>
<p>how to restrict the teams that can certain applications?</p>
</li>
</ul>
<p>Another related topic is the management of the private key of certificates.</p>
<ul>
<li>how to provide enclaves with certificates and the associated private key in a secure fashion?</li>
</ul>
<p>Related question that we need to address is on how to make this practical to use. In particular, we need to
address the following question:</p>
<ul>
<li>how can we achieve all this without the need to re-engineer our applications?</li>
</ul>
<h2 id="approach">Approach<a class="headerlink" href="#approach" title="Permanent link">&para;</a></h2>
<p><strong>scone session</strong> helps you to address the above questions. Before we describe the details of the <strong>scone session</strong> command line interface, we motivate its design from the threat model that we must address.</p>
<h3 id="problem-no-trusted-party-to-manage-access-rights">Problem: No trusted party to manage access rights<a class="headerlink" href="#problem-no-trusted-party-to-manage-access-rights" title="Permanent link">&para;</a></h3>
<p>Traditionally, most systems have the concept of an administrator that can manage the access rights to resources. For example, a root user in an operating system or a database can determine which resources a user can access.</p>
<p>In SCONE, we do not want to require an administrator that controls the access to secrets. Instead, we would like to empower each user such that this user can control access to her resources without any administrator being able to overwrite the access control policy of the user. However, a user can decide to share resources with others. For example, a user could share access to the key of an encrypted volume with other users.</p>
<h3 id="approach-session-concept">Approach: Session Concept<a class="headerlink" href="#approach-session-concept" title="Permanent link">&para;</a></h3>
<p>Our objective is to provide key management without introducing the need to have a trusted party that is responsible to administrate access rights. The main idea is that each user can create a session (an alternative name would be a <em>namespace</em>) in which the user has complete control over access rights to the keys created within this session.</p>
<p><img alt="SCONE CLI" src="../img/SCONE-session.png" /></p>
<h3 id="problem-no-trusted-input-and-output">Problem: No Trusted Input and Output<a class="headerlink" href="#problem-no-trusted-input-and-output" title="Permanent link">&para;</a></h3>
<p>One of the issues that we face in the context of secure trusted computing is that we can neither trust the cloud computers and in many cases, not even our development machines. In some cases, the cloud machines might even be more secure than our development machines. Hence, we need to address the following problem:</p>
<p><strong>Problem: Any key that is received via an input device or output via an output device cannot be considered to be confidential anymore (- unless the key itself is encrypted)</strong></p>
<h4 id="approach-keys-are-always-encrypted">Approach: Keys are always encrypted<a class="headerlink" href="#approach-keys-are-always-encrypted" title="Permanent link">&para;</a></h4>
<p>To address this problem, we need to ensure that keys are never input or output as plain text. To achieve this, we support generation of keys and management of keys that never require keys to be transferred as plain text.</p>
<h3 id="problem-authorization">Problem: Authorization<a class="headerlink" href="#problem-authorization" title="Permanent link">&para;</a></h3>
<p>If there is no trusted input and output, how can we know that certain requests / commands were indeed issued by a specific user? For example, a command is issued by a user <strong>O</strong> to give user <strong>U</strong> access to a key <strong>K</strong> that <strong>O</strong> has created. How do we ensure that it is indeed the intention of <strong>O</strong> to give <strong>U</strong> access to <strong>K</strong>? After all, the input for issuing this command my be inserted by <strong>U</strong> or some other interested party.</p>
<h4 id="approach-multi-factor-authentication-and-authorization">Approach: Multi-factor authentication and authorization<a class="headerlink" href="#approach-multi-factor-authentication-and-authorization" title="Permanent link">&para;</a></h4>
<p>While we do not trust that the input is confidential and under the control of the user, we assume that we have a reasonably secure way to authenticate the user and to ask for an authorization from the user. For the authentication and authorization, we can specify multiple  devices that perform the multi-factor authentication and authorization.</p>
<p>The authentication and authorization will be performed as a combination of face ID, finger print ID, and PIN codes running on one or more devices.</p>
<p><img alt="SCONE CLI" src="../img/authorizationAndauthenticate.png" /></p>
<h2 id="command-line-interface-scone-session">Command line interface: scone session<a class="headerlink" href="#command-line-interface-scone-session" title="Permanent link">&para;</a></h2>
<h3 id="scone-session-create">scone session create<a class="headerlink" href="#scone-session-create" title="Permanent link">&para;</a></h3>
<p><strong>scone session create</strong> starts a new session and <em>activates</em> this session, i.e., makes this the default session. Outputs the name of the session on success.</p>
<h4 id="options">Options<a class="headerlink" href="#options" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>scone session create</th>
<th>#</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>--approve  URL</td>
<td>0-n</td>
<td>URL for approval of certain operations</td>
</tr>
<tr>
<td>--fingerprint FP</td>
<td>1 per URL</td>
<td>defines the fingerprint of the public key for the preceeding --approve URL</td>
</tr>
<tr>
<td>--tenant TENANT</td>
<td>1</td>
<td>name of tenant</td>
</tr>
<tr>
<td>--name NAME</td>
<td>1</td>
<td>name to identify session</td>
</tr>
<tr>
<td>--no [OP,]</td>
<td>0-1</td>
<td>define what operations that do not require approval.(default: ALL = all operations require approval)</td>
</tr>
</tbody>
</table>
<p>We support the following commands / operations:</p>
<table>
<thead>
<tr>
<th>Operation (OP)</th>
<th>Approval?</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>create</td>
<td>required</td>
<td>create a session. Approval to verify the arguments of the command and to ensure that issued to correct CAS</td>
</tr>
<tr>
<td>key</td>
<td>required</td>
<td>create a key. Approval to verify the arguments of the command and to ensure that issued to correct CAS</td>
</tr>
<tr>
<td>share</td>
<td>required</td>
<td>share the keys of this session with another session. Verify that command was issued by owner and that arguments are correct.</td>
</tr>
<tr>
<td>join</td>
<td>required</td>
<td>join another session (if that session shared all its key with this session). Verify that command was issued by owner and that arguments are correct.</td>
</tr>
<tr>
<td>checkpoint</td>
<td>required</td>
<td>checkpoint session information. Verify that command was issued by owner and that arguments are correct.</td>
</tr>
<tr>
<td>restore</td>
<td>required</td>
<td>restores a session checkpoint. Verify that command was issued by owner and that arguments are correct.</td>
</tr>
</tbody>
</table>
<h4 id="caveats">Caveats<a class="headerlink" href="#caveats" title="Permanent link">&para;</a></h4>
<p><strong>scone session create</strong> creates credentials to identify this session and to be able to modify the session. The session credentials are stored in file <em>$HOME/.scone-session/TENANT/NAME/SESSIONID.cred</em>: this file is encrypted with the seal key of <strong>scone session</strong>. <strong>If this file is corrupted or deleted, access to the session keys is not possible anymore</strong>. Hence, this file should be backed up. In case the scone CLI runs inside of a container, this file should be mapped into a volume.</p>
<p>Since this file is encrypted with the seal key of <strong>scone session</strong>, <strong>if the CPU that created this file fails or the CPU microcode is updated, this file cannot be accessed anymore</strong>. Hence, the owner of the session should share the access rights on multiple machines. We support this with the help of <strong>scone session share</strong> and <strong>scone session join</strong>. Alternative: only support <strong>scone session join</strong> and authorize via approval only. This would help with software upgrade too. Authorize new client via session join.</p>
<p>Session information is also stored in a CAS. You can copy the session information from one CAS to another CAS with the help of <strong>scone session checkpoint</strong> and <strong>scone session restore</strong>. Moreover, you can use these two commands to move a session from one CAS to another CAS. </p>
<p>To be able to support updated scone clients, you must enable that a session permits additional clients with different MRENCLAVEs. Also, to support updated CAS. We support this via <strong>scone session join</strong> to permit new clients to get existing session information. To support new CAS, a user has to perform a checkpoint and restore operation. </p>
<h4 id="example">Example:<a class="headerlink" href="#example" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span>scone session create --tenant myself --name www <span class="se">\</span>
--approve ap.com/myself --fingerprint  <span class="m">43</span>:51:43:a1:b5:fc:8b:b7:0a:3a:a9:b1:0f:66:73:a8 <span class="se">\</span>
--approve ap2.com/myboss --fingerprint  <span class="m">55</span>:45:a1:b5:fc:8b:b7:0a:3a:a9:b1:0f:66:73:a8 <span class="se">\</span>
</pre></div>

<h3 id="scone-session-key">scone session key<a class="headerlink" href="#scone-session-key" title="Permanent link">&para;</a></h3>
<p>Creates a key or a certificate and makes it available at a given key name.</p>
<div class="codehilite"><pre><span></span>scone session key --name KEYNAME <span class="o">[</span>--replace<span class="o">]</span> —-type TYPE <span class="o">[</span>--access  <span class="o">[</span>session<span class="o">]</span>:MRENCLAVE<span class="o">]]</span>
</pre></div>

<h4 id="options_1">Options<a class="headerlink" href="#options_1" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>scone session key</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>--scope SCOPE</td>
<td>limits visibility of key: final, session, full. <strong>final</strong> = only participants specified with option --access are permitted to receive the key. <strong>session</strong> = one can add more enclaves that can access the key but it is not possible to extend this beyond the current session. <strong>full</strong> no limit to what extend the user can share this key with other sessions.</td>
</tr>
<tr>
<td>-- type TYPE</td>
<td>determines the type of key. TYPE=[DIGIT:N,ALPHA:N,ALPHANUM:N,PRINT:N,CERT:N]</td>
</tr>
</tbody>
</table>
<h3 id="scone-session-share-key-keyname-gentoken-session-sessionid">scone session share --key KEYNAME  --gentoken --session SESSIONID<a class="headerlink" href="#scone-session-share-key-keyname-gentoken-session-sessionid" title="Permanent link">&para;</a></h3>
<p>Use cases:</p>
<p>1) We share the public key and the private key of an image with a client</p>
<div class="codehilite"><pre><span></span>scone session share --key image/NAME/fspf-key --pubkey signer  --gentoken --duration <span class="m">366</span>
</pre></div>

<p>2) We share the complete session with another client:</p>
<div class="codehilite"><pre><span></span>scone session share --gentoken --all
</pre></div>

<p>3) Share all keys related to a stack that was created</p>
<div class="codehilite"><pre><span></span>scone session share --stack FILE  --gentoken
</pre></div>

<p>Prints a token that can be used to access all keys to be able to run this stack </p>
<h3 id="scone-session-join-session-session-id-token-token">scone session join --session SESSION-ID --token TOKEN<a class="headerlink" href="#scone-session-join-session-session-id-token-token" title="Permanent link">&para;</a></h3>
<p>Use case:</p>
<p>Replace the current session by another session:</p>
<div class="codehilite"><pre><span></span>scone session join --token TOKEN
</pre></div>

<p>We effectively join a already existing session ID with a new client.</p>
<h3 id="scone-session-import-token-token">scone session import --token TOKEN<a class="headerlink" href="#scone-session-import-token-token" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span>scone session import --token TOKEN <span class="o">[</span>--replace<span class="o">]</span>
</pre></div>

<p>Import all keys related to the TOKEN. If <strong>--replace</strong> is given, keys are updated in case they already exist. Otherwise, an error message is issued.</p>
<h3 id="scone-session-checkpoint">scone session checkpoint<a class="headerlink" href="#scone-session-checkpoint" title="Permanent link">&para;</a></h3>
<p>Copies the current state of a session from the CAS and stores it encrypted on the local file system.</p>
<div class="codehilite"><pre><span></span>scone session checkpoint
</pre></div>

<h3 id="scone-session-restore-session-sessionid-cas-url">scone session restore --session SESSIONID --CAS URL<a class="headerlink" href="#scone-session-restore-session-sessionid-cas-url" title="Permanent link">&para;</a></h3>
<p>Take the checkpoint of session SESSIONID and stores it to CAS referred to via URL.</p>
<p>If the session already exists, this will result in a failure.</p>
<h3 id="scone-session-remove-force">scone session remove --force<a class="headerlink" href="#scone-session-remove-force" title="Permanent link">&para;</a></h3>
<p>Removes a current session from the CAS.</p>
<h3 id="scone-session-activate-session-sessionid">scone session activate --session SESSIONID<a class="headerlink" href="#scone-session-activate-session-sessionid" title="Permanent link">&para;</a></h3>
<p>Switches session to another session with ID SESSIONID</p>
<h2 id="example-sconedocs-website">Example: Sconedocs website<a class="headerlink" href="#example-sconedocs-website" title="Permanent link">&para;</a></h2>
<p>Root ...</p>
<p>We need to specify the path, the key and the tag of the file system protection file:</p>
<div class="codehilite"><pre><span></span><span class="n">image</span><span class="o">:</span> <span class="n">aptsigner</span>
<span class="n">fspf_path</span><span class="o">:</span> <span class="sr">/nginx/</span><span class="n">fspf</span><span class="o">.</span><span class="na">pb</span>
<span class="n">fspf_key</span><span class="o">:</span> <span class="mi">970</span><span class="n">f4925bb7b221461f3d1a3f17450aa42844539de24f5acc1b45b8c140f9467</span>
<span class="n">fspf_tag</span><span class="o">:</span> <span class="mi">5930</span><span class="n">bffbd9ea2f1317e6872b032334db</span>
</pre></div>

<p>We get this information from the CAS for the current session. Key directory is <strong>/image/aptsigner/fspf_path</strong>, ...</p>
<h2 id="example-signing-apt-packages">Example: Signing APT packages<a class="headerlink" href="#example-signing-apt-packages" title="Permanent link">&para;</a></h2>
<p>Our objective is to sign Debian/Ubuntu packages without ever having the private key be visible in the clear. In particular, we do not want be able ourselves to change our minds and make the keys visible to us or others.</p>
<p><strong>Approach:</strong> We package the software in a container image that contains all code required to sign packages. To do so, we have two volumes:</p>
<p>1) <strong>packages</strong>: contains the package to be signed</p>
<p>2) <strong>keyring</strong>:</p>
<h2 id="sharing-keys">Sharing Keys<a class="headerlink" href="#sharing-keys" title="Permanent link">&para;</a></h2>
<p>Access to keys:</p>
<ul>
<li>
<p>public key: share with everybody</p>
</li>
<li>
<p>encrpytion key: share access with token</p>
</li>
<li>
<p>generate token: with limited lifetime</p>
</li>
</ul>
<p>&copy; <a href="http://www.scontain.com">scontain.com</a>, December 2017. <a href="mailto:info@scontain.com">Questions or Suggestions?</a></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright Scontain © 2019
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.a353778b.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>