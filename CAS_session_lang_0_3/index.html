
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Scone Documentation - Secure Containers">
      
      
        <meta name="author" content="Christof Fetzer">
      
      
        <link rel="canonical" href="https://sconedocs.github.io/CAS_session_lang_0_3/">
      
      <link rel="icon" href="../img/scone-favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-8.2.4">
    
    
      
        <title>Policy Language - Confidential Computing</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2d9f7617.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.e6a45f82.min.css">
        
          
          
          <meta name="theme-color" content="#ffffff">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"PT Sans";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/custom.css">
    
      <link rel="stylesheet" href="../css/extra.css">
    
      <link rel="stylesheet" href="../css/tooltips.css">
    
      <link rel="stylesheet" href="../styles/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="white" data-md-color-accent="purple">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#scone-session-language-v0311" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Confidential Computing" class="md-header__button md-logo" aria-label="Confidential Computing" data-md-component="logo">
      
  <img src="../img/SCONE-logo-white.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Confidential Computing
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Policy Language
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../news/" class="md-tabs__link">
        News and Overview
      </a>
    </li>
  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../scone_mesh_tutorial/" class="md-tabs__link">
        Quick Start
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../k8s_concepts/" class="md-tabs__link">
        Kubernetes
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../CASOverview/" class="md-tabs__link md-tabs__link--active">
        Configuration & Attestation
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../helm/" class="md-tabs__link">
        SconeApps
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../operations/" class="md-tabs__link">
        DevOps Workflows
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../aks/" class="md-tabs__link">
        Azure Kubernetes Services
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../usecases/" class="md-tabs__link">
        Use Cases
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../registry/" class="md-tabs__link">
        Sign up
      </a>
    </li>
  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../iexec_sconify_image/" class="md-tabs__link">
        More
      </a>
    </li>
  

  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Confidential Computing" class="md-nav__button md-logo" aria-label="Confidential Computing" data-md-component="logo">
      
  <img src="../img/SCONE-logo-white.png" alt="logo">

    </a>
    Confidential Computing
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          News and Overview
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="News and Overview" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          News and Overview
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../news/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cc-telenovela/" class="md-nav__link">
        CC Soap Opera
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cc-university/" class="md-nav__link">
        CC University
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vm_vs_enclave/" class="md-nav__link">
        Confidential Computing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../advantages/" class="md-nav__link">
        Advantages of SCONE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../whyscone/" class="md-nav__link">
        SCONE vs Intel SGX SDK
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../technical_summary/" class="md-nav__link">
        Technical summary of SCONE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../buildingApps/" class="md-nav__link">
        (No) Cross-Compilation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../curated_images/" class="md-nav__link">
        Curated Images
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../community_version/" class="md-nav__link">
        Community Version
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Quick Start
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Quick Start" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Quick Start
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1">
          sconectl
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="sconectl" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          sconectl
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../scone_mesh_tutorial/" class="md-nav__link">
        Hello World
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sconectl/" class="md-nav__link">
        sconectl cli
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../install_sconectl/" class="md-nav__link">
        install sconectl
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../service.html" class="md-nav__link">
        openAPI description service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../mesh.html" class="md-nav__link">
        openAPI description mesh
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../java_mesh_tutorial/" class="md-nav__link">
        Java Hello World
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_2">
          Overview
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Overview" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Overview
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../workflows/" class="md-nav__link">
        Workflows
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sconify_hw_k8s/" class="md-nav__link">
        Example
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../lean_deployment/" class="md-nav__link">
        kubectl
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sconify/" class="md-nav__link">
        Sconify
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sconify_filetypes/" class="md-nav__link">
        File Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ee_sconify_image/" class="md-nav__link">
        Sconify Image SE
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../multi-stakeholder-workflow/" class="md-nav__link">
        Multi-Stakeholder Example
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../example_policy/" class="md-nav__link">
        Policy Update
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../microservices-demo/" class="md-nav__link">
        Boutique Demo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../faq_sconify/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_7" type="checkbox" id="__nav_3_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_7">
          Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Installation" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_7">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../hostexample/" class="md-nav__link">
        Host Execution
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        Installation overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dockerinstall/" class="md-nav__link">
        Installing docker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sgxinstall/" class="md-nav__link">
        Installing Intel SGX driver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sconeinstall/" class="md-nav__link">
        Installing SCONE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../microcode/" class="md-nav__link">
        Updating CPU microcode
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../windows10/" class="md-nav__link">
        Windows 10
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_8" type="checkbox" id="__nav_3_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_8">
          Workshop
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Workshop" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_8">
          <span class="md-nav__icon md-icon"></span>
          Workshop
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../workshop/setup/" class="md-nav__link">
        getting access
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../workshop/details/" class="md-nav__link">
        background
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../workshop/task_1/" class="md-nav__link">
        Task 1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../workshop/task_2/" class="md-nav__link">
        Task 2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../workshop/hands_on_1/" class="md-nav__link">
        hands on A
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../workshop/hands_on_2/" class="md-nav__link">
        hands on B
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../workshop/next_steps/" class="md-nav__link">
        next steps
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_9" type="checkbox" id="__nav_3_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_9">
          Tutorial
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tutorial" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_9">
          <span class="md-nav__icon md-icon"></span>
          Tutorial
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Exercise-Docu/exercises/" class="md-nav__link">
        Assignments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Exercise-Docu/exercise0/" class="md-nav__link">
        Assignment 0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Exercise-Docu/exercise1/" class="md-nav__link">
        Assignment 1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Exercise-Docu/exercise2/" class="md-nav__link">
        Assignment 2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Exercise-Docu/exercise3/" class="md-nav__link">
        Assignment 3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Exercise-Docu/exercise4/" class="md-nav__link">
        Assignment 4
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Exercise-Docu/exercise5/" class="md-nav__link">
        Assignment 5
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Exercise-Docu/section_otp/" class="md-nav__link">
        Section 2 OTP
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_10" type="checkbox" id="__nav_3_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_10">
          SCONE Execution Modes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="SCONE Execution Modes" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_10">
          <span class="md-nav__icon md-icon"></span>
          SCONE Execution Modes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../outline/" class="md-nav__link">
        Execution Modes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../firstcontainer/" class="md-nav__link">
        Simulation Mode
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../hardwaremode/" class="md-nav__link">
        Hardware Mode
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Kubernetes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Kubernetes" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Kubernetes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../k8s_concepts/" class="md-nav__link">
        Concepts
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_2">
          SCONE Operator
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="SCONE Operator" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          SCONE Operator
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../1_scone_operator/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../2_operator_installation/" class="md-nav__link">
        Reconciliation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../5_kubectl/" class="md-nav__link">
        Deploying CAS and Vault
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../3_resource_definitions/" class="md-nav__link">
        Custom Resource Definitions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" type="checkbox" id="__nav_4_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_3">
          Helm Charts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Helm Charts" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          Helm Charts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../helm_sgxdevplugin/" class="md-nav__link">
        Kubernetes SGX Plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../helm_cas/" class="md-nav__link">
        CAS Deploy & Attest
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../helm_las/" class="md-nav__link">
        LAS Deploy & Platforms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../helm_mariadb/" class="md-nav__link">
        MariaDB Deploy & Attest
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../helm_teemon/" class="md-nav__link">
        TEEMon Deployment
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4" type="checkbox" id="__nav_4_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_4">
          Dashboards
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Dashboards" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          Dashboards
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../helm_dashboard/" class="md-nav__link">
        Helm Dashboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../k8s_dashboard/" class="md-nav__link">
        Kubernetes Dashboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubeapps/" class="md-nav__link">
        Kubeapps
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5" type="checkbox" id="__nav_4_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_5">
          Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Examples" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_5">
          <span class="md-nav__icon md-icon"></span>
          Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../hello_world_kubernetes/" class="md-nav__link">
        Hello World Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../azure/scone-pyspark/" class="md-nav__link">
        PySpark on Azure
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Configuration & Attestation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Configuration & Attestation" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Configuration & Attestation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../CASOverview/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cas_intro/" class="md-nav__link">
        Concepts
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Policy Language
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Policy Language
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#changelog" class="md-nav__link">
    Changelog
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#session-description-hash" class="md-nav__link">
    Session Description Hash
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#session-description-structure" class="md-nav__link">
    Session Description Structure
  </a>
  
    <nav class="md-nav" aria-label="Session Description Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#version" class="md-nav__link">
    Version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session-name" class="md-nav__link">
    Session Name
  </a>
  
    <nav class="md-nav" aria-label="Session Name">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#namespaces" class="md-nav__link">
    Namespaces
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#predecessor-session" class="md-nav__link">
    Predecessor Session
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#service-description" class="md-nav__link">
    Service Description
  </a>
  
    <nav class="md-nav" aria-label="Service Description">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command" class="md-nav__link">
    command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment" class="md-nav__link">
    environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pwd" class="md-nav__link">
    pwd
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fspf" class="md-nav__link">
    FSPF
  </a>
  
    <nav class="md-nav" aria-label="FSPF">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#main-fspf-tag-update-policy" class="md-nav__link">
    Main FSPF Tag Update Policy
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#image" class="md-nav__link">
    Image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attestation" class="md-nav__link">
    Attestation
  </a>
  
    <nav class="md-nav" aria-label="Attestation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attestation-configuration-example" class="md-nav__link">
    Attestation Configuration Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code-identity-based-attestation" class="md-nav__link">
    Code Identity-based Attestation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#signer-based-sgx-attestation" class="md-nav__link">
    Signer-based SGX Attestation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#combining-attestation-factors" class="md-nav__link">
    Combining Attestation Factors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#independent-attestation-factors" class="md-nav__link">
    Independent Attestation Factors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deprecated-attestation-configuration" class="md-nav__link">
    Deprecated Attestation Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#platform-based-attestation" class="md-nav__link">
    Platform-based Attestation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#secrets" class="md-nav__link">
    Secrets
  </a>
  
    <nav class="md-nav" aria-label="Secrets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#character-encoding" class="md-nav__link">
    Character Encoding
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secret-kinds" class="md-nav__link">
    Secret Kinds
  </a>
  
    <nav class="md-nav" aria-label="Secret Kinds">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ascii" class="md-nav__link">
    ascii
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#binary" class="md-nav__link">
    binary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#private-key" class="md-nav__link">
    private-key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#x509-and-x509-ca" class="md-nav__link">
    x509 and x509-ca
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aad-token" class="md-nav__link">
    aad-token
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#config-fragment" class="md-nav__link">
    config-fragment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pgp-key" class="md-nav__link">
    pgp-key
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secret-injection" class="md-nav__link">
    Secret Injection
  </a>
  
    <nav class="md-nav" aria-label="Secret Injection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#program-arguments-and-environment-variables" class="md-nav__link">
    Program Arguments and Environment Variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secret-injection-files" class="md-nav__link">
    Secret Injection Files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dynamic-configurations" class="md-nav__link">
    Dynamic Configurations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secret-sharing" class="md-nav__link">
    Secret Sharing
  </a>
  
    <nav class="md-nav" aria-label="Secret Sharing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#microsoft-azure-key-vault-import" class="md-nav__link">
    Microsoft Azure Key Vault Import
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secret-backends" class="md-nav__link">
    Secret Backends
  </a>
  
    <nav class="md-nav" aria-label="Secret Backends">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#microsoft-azure-key-vault-secret-backend" class="md-nav__link">
    Microsoft Azure Key Vault Secret Backend
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cas-database-secret-backend" class="md-nav__link">
    CAS Database Secret Backend
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secret-migration" class="md-nav__link">
    Secret Migration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#volumes" class="md-nav__link">
    Volumes
  </a>
  
    <nav class="md-nav" aria-label="Volumes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#volume-sharing" class="md-nav__link">
    Volume Sharing
  </a>
  
    <nav class="md-nav" aria-label="Volume Sharing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#volume-tag-update-policy" class="md-nav__link">
    Volume Tag Update Policy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#volume-alias" class="md-nav__link">
    Volume Alias
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#images" class="md-nav__link">
    Images
  </a>
  
    <nav class="md-nav" aria-label="Images">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#image-volumes" class="md-nav__link">
    Image Volumes
  </a>
  
    <nav class="md-nav" aria-label="Image Volumes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#image-volume-tag-update-policy" class="md-nav__link">
    Image Volume Tag Update Policy
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#image-secret-injection-files" class="md-nav__link">
    Image Secret Injection Files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access-control" class="md-nav__link">
    Access Control
  </a>
  
    <nav class="md-nav" aria-label="Access Control">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#governance" class="md-nav__link">
    Governance
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#attestation-security" class="md-nav__link">
    Attestation Security
  </a>
  
    <nav class="md-nav" aria-label="Attestation Security">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#singleton-enclaves" class="md-nav__link">
    Singleton Enclaves
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tolerating-hardware-attestation-issues" class="md-nav__link">
    Tolerating Hardware Attestation Issues
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trusted-scone-quoting-enclaves" class="md-nav__link">
    Trusted SCONE Quoting Enclaves
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#microsoft-azure-attestation" class="md-nav__link">
    Microsoft Azure Attestation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disabling-attestation" class="md-nav__link">
    Disabling attestation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2fa-with-service-access-tokens" class="md-nav__link">
    2FA with Service Access Tokens
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2fa-with-time-based-one-time-passwords" class="md-nav__link">
    2FA with Time-based One-time Passwords
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delegating-security-decisions-to-other-sessions" class="md-nav__link">
    Delegating Security Decisions to Other Sessions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#referencing-other-sessions" class="md-nav__link">
    Referencing Other Sessions
  </a>
  
    <nav class="md-nav" aria-label="Referencing Other Sessions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#local-cas-sessions" class="md-nav__link">
    Local CAS Sessions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sessions-on-another-cas" class="md-nav__link">
    Sessions on another CAS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#url-short-form" class="md-nav__link">
    URL short form
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#host-program-arguments-and-environment-variables" class="md-nav__link">
    Host Program Arguments and Environment Variables
  </a>
  
    <nav class="md-nav" aria-label="Host Program Arguments and Environment Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#host-program-arguments-argv" class="md-nav__link">
    Host Program Arguments (argv)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#host-environment-variables" class="md-nav__link">
    Host Environment Variables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4" type="checkbox" id="__nav_5_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_4">
          Policy Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Policy Examples" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          Policy Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../auditLog/" class="md-nav__link">
        Audit Log
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cas_blender_example/" class="md-nav__link">
        Posting Policies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../CAS_cli-intro/" class="md-nav__link">
        CLI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../envcas/" class="md-nav__link">
        envcas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../platform_attestation/" class="md-nav__link">
        Platform-based attestation
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4_6" type="checkbox" id="__nav_5_4_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_4_6">
          Secure Arguments
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Secure Arguments" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_4_6">
          <span class="md-nav__icon md-icon"></span>
          Secure Arguments
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../print-arg-env/" class="md-nav__link">
        Part 1 - print arguments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../print-arg-env-p2/" class="md-nav__link">
        Part 2 - session hash
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../encrypted_vol/" class="md-nav__link">
        Encrypted Volume
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../scone-signer-example/" class="md-nav__link">
        Binary Translation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../host_arguments/" class="md-nav__link">
        Host Arguments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../otp_demo/" class="md-nav__link">
        One-time Passwords
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../EncryptedWordCount/" class="md-nav__link">
        Encrypted Code and Input
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../namespace/" class="md-nav__link">
        Namespaces
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../network_shield/" class="md-nav__link">
        Network Shield
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_5" type="checkbox" id="__nav_5_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_5">
          Alternative CAS deployments
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Alternative CAS deployments" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_5">
          <span class="md-nav__icon md-icon"></span>
          Alternative CAS deployments
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../CAS_production/" class="md-nav__link">
        CAS with helm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../CAS_for_development/" class="md-nav__link">
        CAS with docker compose
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cas-backup-controller/" class="md-nav__link">
        CAS Backup Controller for Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cas-backup-controller-quick-start/" class="md-nav__link">
        CAS Backup Controller Quick Start
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../CAS_config/" class="md-nav__link">
        CAS Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../public-CAS/" class="md-nav__link">
        Public CAS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../LASIntro/" class="md-nav__link">
        Starting LAS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../self-provisioned-cas/" class="md-nav__link">
        Self-Provisioned CAS
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          SconeApps
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="SconeApps" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          SconeApps
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../helm/" class="md-nav__link">
        SconeApps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sconeapps_database/" class="md-nav__link">
        database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sconeapps_maxscale/" class="md-nav__link">
        maxscale
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sconeapps_memcached/" class="md-nav__link">
        memcached
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sconeapps_nginx/" class="md-nav__link">
        nginx
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sconeapps_openvino/" class="md-nav__link">
        openvino
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sconeapps_pytorch/" class="md-nav__link">
        pytorch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sconeapps_spark/" class="md-nav__link">
        spark
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sconeapps_tensorflow/" class="md-nav__link">
        tensorflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sconeapps_tensorflowlite/" class="md-nav__link">
        tensorflowlite
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sconeapps_zookeeper/" class="md-nav__link">
        zookeeper
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          DevOps Workflows
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="DevOps Workflows" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          DevOps Workflows
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../operations/" class="md-nav__link">
        Workflows
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../mitigation/" class="md-nav__link">
        Attack mitigation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sadvisories/" class="md-nav__link">
        Security advisories
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../software_updates/" class="md-nav__link">
        Software updates
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../scone-signer/" class="md-nav__link">
        Signing of enclaves
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../edmm/" class="md-nav__link">
        EDMM support
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../scone_semantic_versioning/" class="md-nav__link">
        SCONE versioning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../attestation_by_client/" class="md-nav__link">
        Attestation by client
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../technotes/" class="md-nav__link">
        Technotes
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Azure Kubernetes Services
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Azure Kubernetes Services" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Azure Kubernetes Services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../aks/" class="md-nav__link">
        Confidential AKS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../azure/scone-playground/" class="md-nav__link">
        SCONE Playground on Azure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../aks/flask_demo/" class="md-nav__link">
        Flask Demo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../python_images/" class="md-nav__link">
        Python Images
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../aks_integration/" class="md-nav__link">
        AKS Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../MicrosoftAzureIntegrations/" class="md-nav__link">
        AKS Integration Tutorial
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../aks_charts/" class="md-nav__link">
        AKS Applications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../aks_setup/" class="md-nav__link">
        AKS Setup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          Use Cases
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Use Cases" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Use Cases
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usecases/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../secure_document_management/" class="md-nav__link">
        Confidential Document Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../federated_machine_learning/" class="md-nav__link">
        Federated Machine Learning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../shared_source_code/" class="md-nav__link">
        Confidential Code Deployment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../blender/" class="md-nav__link">
        Blender
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pyspark/" class="md-nav__link">
        PySpark
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tensorflow/" class="md-nav__link">
        TensorFlow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tensorflowlite/" class="md-nav__link">
        TensorFlow Lite
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../openvino/" class="md-nav__link">
        OpenVino
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vault/" class="md-nav__link">
        Vault
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../scone-use-case-overview/" class="md-nav__link">
        Examples
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../secure_remote_execution/" class="md-nav__link">
        Secure Remote Execution
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dockerfileexample/" class="md-nav__link">
        Dockerfile Example
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../multistagebuild/" class="md-nav__link">
        Multi-stage build
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../groupcacheUseCase/" class="md-nav__link">
        GO example
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../memory_dump/" class="md-nav__link">
        Finding Secrets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dapps/" class="md-nav__link">
        Trusted DApps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flask_demo/" class="md-nav__link">
        Flask Demo
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          Sign up
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Sign up" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Sign up
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../registry/" class="md-nav__link">
        Scontain Registy
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" type="checkbox" id="__nav_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11">
          More
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="More" data-md-level="1">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          More
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_1" type="checkbox" id="__nav_11_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_1">
          Client Docu
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Client Docu" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_1">
          <span class="md-nav__icon md-icon"></span>
          Client Docu
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../iexec_sconify_image/" class="md-nav__link">
        iExec Sconify Image
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_2" type="checkbox" id="__nav_11_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_2">
          Language Support
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Language Support" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_2">
          <span class="md-nav__icon md-icon"></span>
          Language Support
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../C/" class="md-nav__link">
        C
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../mono/" class="md-nav__link">
        C#
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../C%2B%2B/" class="md-nav__link">
        C++
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Fortran/" class="md-nav__link">
        Fortran
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../GO/" class="md-nav__link">
        GO
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Java/" class="md-nav__link">
        Java
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Running_Java_Applications_in_Scone_with_remote_attestation/" class="md-nav__link">
        Java with remote attestation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Python/" class="md-nav__link">
        Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pypyscone/" class="md-nav__link">
        PyPy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../mono/" class="md-nav__link">
        C#
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Nodejs/" class="md-nav__link">
        Node
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node-example/" class="md-nav__link">
        Node example
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../R/" class="md-nav__link">
        R
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Rust/" class="md-nav__link">
        Rust
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_3" type="checkbox" id="__nav_11_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_3">
          IDE Integration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="IDE Integration" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_3">
          <span class="md-nav__icon md-icon"></span>
          IDE Integration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../eclipse/" class="md-nav__link">
        Eclipse
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../helm_vscode/" class="md-nav__link">
        Visual Studio Code
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_4" type="checkbox" id="__nav_11_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_4">
          Command Line Interface
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Command Line Interface" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_4">
          <span class="md-nav__icon md-icon"></span>
          Command Line Interface
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../CAS_cli/" class="md-nav__link">
        CLI Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../SCONE_Fileshield/" class="md-nav__link">
        scone fspf
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../binary_fs/" class="md-nav__link">
        scone binary fs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../SCONE_ENV/" class="md-nav__link">
        environment variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../MrEnclave/" class="md-nav__link">
        MrEnclave
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../scone_affinity/" class="md-nav__link">
        affinity
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_5" type="checkbox" id="__nav_11_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_5">
          Performance
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Performance" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_5">
          <span class="md-nav__icon md-icon"></span>
          Performance
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../performance/" class="md-nav__link">
        Applications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../teemon/" class="md-nav__link">
        Monitoring tool
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_6" type="checkbox" id="__nav_11_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_6">
          Background
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Background" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_6">
          <span class="md-nav__icon md-icon"></span>
          Background
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../appsecurity/" class="md-nav__link">
        Application-Oriented Security
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../background/" class="md-nav__link">
        SCONE Background
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_7" type="checkbox" id="__nav_11_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_7">
          Security
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Security" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_7">
          <span class="md-nav__icon md-icon"></span>
          Security
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../S1_threat_model/" class="md-nav__link">
        Threat Model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../S2_random_numbers/" class="md-nav__link">
        Random numbers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../S3_governance/" class="md-nav__link">
        Governance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../S4_attestation/" class="md-nav__link">
        Attestation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../S5_debug_mode/" class="md-nav__link">
        Debug Mode
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../S6_best_practices/" class="md-nav__link">
        Best Practices
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../SCONE_Publications/" class="md-nav__link">
        Publications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../aboutScone/" class="md-nav__link">
        About
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_11" type="checkbox" id="__nav_11_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_11">
          Releases
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Releases" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_11">
          <span class="md-nav__icon md-icon"></span>
          Releases
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../releases/6.0/" class="md-nav__link">
        SCONE 6.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../releases/5.10/" class="md-nav__link">
        SCONE 5.10
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../releases/5.9/" class="md-nav__link">
        SCONE 5.9.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../releases/5.8/" class="md-nav__link">
        SCONE 5.8.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../releases/5.7/" class="md-nav__link">
        SCONE 5.7.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../releases/5.6/" class="md-nav__link">
        SCONE 5.6.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../releases/5.5/" class="md-nav__link">
        SCONE 5.5.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../releases/5.4/" class="md-nav__link">
        SCONE 5.4.0
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#changelog" class="md-nav__link">
    Changelog
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#session-description-hash" class="md-nav__link">
    Session Description Hash
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#session-description-structure" class="md-nav__link">
    Session Description Structure
  </a>
  
    <nav class="md-nav" aria-label="Session Description Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#version" class="md-nav__link">
    Version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session-name" class="md-nav__link">
    Session Name
  </a>
  
    <nav class="md-nav" aria-label="Session Name">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#namespaces" class="md-nav__link">
    Namespaces
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#predecessor-session" class="md-nav__link">
    Predecessor Session
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#service-description" class="md-nav__link">
    Service Description
  </a>
  
    <nav class="md-nav" aria-label="Service Description">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command" class="md-nav__link">
    command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment" class="md-nav__link">
    environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pwd" class="md-nav__link">
    pwd
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fspf" class="md-nav__link">
    FSPF
  </a>
  
    <nav class="md-nav" aria-label="FSPF">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#main-fspf-tag-update-policy" class="md-nav__link">
    Main FSPF Tag Update Policy
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#image" class="md-nav__link">
    Image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attestation" class="md-nav__link">
    Attestation
  </a>
  
    <nav class="md-nav" aria-label="Attestation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attestation-configuration-example" class="md-nav__link">
    Attestation Configuration Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code-identity-based-attestation" class="md-nav__link">
    Code Identity-based Attestation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#signer-based-sgx-attestation" class="md-nav__link">
    Signer-based SGX Attestation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#combining-attestation-factors" class="md-nav__link">
    Combining Attestation Factors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#independent-attestation-factors" class="md-nav__link">
    Independent Attestation Factors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deprecated-attestation-configuration" class="md-nav__link">
    Deprecated Attestation Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#platform-based-attestation" class="md-nav__link">
    Platform-based Attestation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#secrets" class="md-nav__link">
    Secrets
  </a>
  
    <nav class="md-nav" aria-label="Secrets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#character-encoding" class="md-nav__link">
    Character Encoding
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secret-kinds" class="md-nav__link">
    Secret Kinds
  </a>
  
    <nav class="md-nav" aria-label="Secret Kinds">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ascii" class="md-nav__link">
    ascii
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#binary" class="md-nav__link">
    binary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#private-key" class="md-nav__link">
    private-key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#x509-and-x509-ca" class="md-nav__link">
    x509 and x509-ca
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aad-token" class="md-nav__link">
    aad-token
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#config-fragment" class="md-nav__link">
    config-fragment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pgp-key" class="md-nav__link">
    pgp-key
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secret-injection" class="md-nav__link">
    Secret Injection
  </a>
  
    <nav class="md-nav" aria-label="Secret Injection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#program-arguments-and-environment-variables" class="md-nav__link">
    Program Arguments and Environment Variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secret-injection-files" class="md-nav__link">
    Secret Injection Files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dynamic-configurations" class="md-nav__link">
    Dynamic Configurations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secret-sharing" class="md-nav__link">
    Secret Sharing
  </a>
  
    <nav class="md-nav" aria-label="Secret Sharing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#microsoft-azure-key-vault-import" class="md-nav__link">
    Microsoft Azure Key Vault Import
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secret-backends" class="md-nav__link">
    Secret Backends
  </a>
  
    <nav class="md-nav" aria-label="Secret Backends">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#microsoft-azure-key-vault-secret-backend" class="md-nav__link">
    Microsoft Azure Key Vault Secret Backend
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cas-database-secret-backend" class="md-nav__link">
    CAS Database Secret Backend
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secret-migration" class="md-nav__link">
    Secret Migration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#volumes" class="md-nav__link">
    Volumes
  </a>
  
    <nav class="md-nav" aria-label="Volumes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#volume-sharing" class="md-nav__link">
    Volume Sharing
  </a>
  
    <nav class="md-nav" aria-label="Volume Sharing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#volume-tag-update-policy" class="md-nav__link">
    Volume Tag Update Policy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#volume-alias" class="md-nav__link">
    Volume Alias
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#images" class="md-nav__link">
    Images
  </a>
  
    <nav class="md-nav" aria-label="Images">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#image-volumes" class="md-nav__link">
    Image Volumes
  </a>
  
    <nav class="md-nav" aria-label="Image Volumes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#image-volume-tag-update-policy" class="md-nav__link">
    Image Volume Tag Update Policy
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#image-secret-injection-files" class="md-nav__link">
    Image Secret Injection Files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access-control" class="md-nav__link">
    Access Control
  </a>
  
    <nav class="md-nav" aria-label="Access Control">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#governance" class="md-nav__link">
    Governance
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#attestation-security" class="md-nav__link">
    Attestation Security
  </a>
  
    <nav class="md-nav" aria-label="Attestation Security">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#singleton-enclaves" class="md-nav__link">
    Singleton Enclaves
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tolerating-hardware-attestation-issues" class="md-nav__link">
    Tolerating Hardware Attestation Issues
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trusted-scone-quoting-enclaves" class="md-nav__link">
    Trusted SCONE Quoting Enclaves
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#microsoft-azure-attestation" class="md-nav__link">
    Microsoft Azure Attestation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disabling-attestation" class="md-nav__link">
    Disabling attestation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2fa-with-service-access-tokens" class="md-nav__link">
    2FA with Service Access Tokens
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2fa-with-time-based-one-time-passwords" class="md-nav__link">
    2FA with Time-based One-time Passwords
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delegating-security-decisions-to-other-sessions" class="md-nav__link">
    Delegating Security Decisions to Other Sessions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#referencing-other-sessions" class="md-nav__link">
    Referencing Other Sessions
  </a>
  
    <nav class="md-nav" aria-label="Referencing Other Sessions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#local-cas-sessions" class="md-nav__link">
    Local CAS Sessions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sessions-on-another-cas" class="md-nav__link">
    Sessions on another CAS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#url-short-form" class="md-nav__link">
    URL short form
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#host-program-arguments-and-environment-variables" class="md-nav__link">
    Host Program Arguments and Environment Variables
  </a>
  
    <nav class="md-nav" aria-label="Host Program Arguments and Environment Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#host-program-arguments-argv" class="md-nav__link">
    Host Program Arguments (argv)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#host-environment-variables" class="md-nav__link">
    Host Environment Variables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="scone-session-language-v0311">SCONE Session Language (v0.3.11)</h1>
<p>The SCONE session language is used to create <strong>session descriptions</strong> that entail all security-relevant details of a SCONE application.</p>
<p>A SCONE application can consist of one or more <strong>session descriptions</strong>. Each <strong>session description</strong> defines a set of</p>
<ul>
<li><strong>services</strong> that are part of the application,</li>
<li><strong>secrets</strong> that are securely stored and passed to the services,</li>
<li><strong>images</strong> that define which regions of a container (image) are <strong>encrypted</strong> or <strong>authenticated</strong>,</li>
<li><strong>volumes</strong> which are like docker volumes but encrypted, and</li>
<li><strong>access policy</strong> that defines who can read or modify the session description.</li>
</ul>
<p>The <strong>session language</strong> is a subset of <a href="https://en.wikipedia.org/wiki/YAML">YAML</a>, i.e., a session description is valid YAML.
It is similar to and takes its bearing from <a href="https://docs.docker.com/compose/compose-file/">docker-compose files</a>.
As a session description is typically stored in a file, we use <code>session file</code> as a somewhat interchangeable synonym for session description.
We use the terms <code>session description</code> and <code>session policy</code> (or just <code>policy</code>) interchangeably.</p>
<h2 id="changelog">Changelog</h2>
<p><strong>v0.3.11 (SCONE 5.9.0):</strong></p>
<ul>
<li>Added <a href="./#main-fspf-tag-update-policy">main FSPF tag update policies</a></li>
</ul>
<p><strong>v0.3.10 (SCONE 5.8.0):</strong></p>
<ul>
<li>Added support for relative paths in <a href="./#local-cas-sessions">secret &amp; volume exports &amp; imports</a></li>
<li>Added <code>volume_alias</code> in <a href="./#volume-sharing">volume exports</a></li>
<li>Added base32 encoding and URL-safe base64 encoding for <a href="./#binary">binary secrets</a> (secret formats <code>:base32</code>, <code>:base32nopad</code>, <code>:base64url</code>)</li>
<li>Added SCONE variables in service <a href="./#platform-based-attestation">platform-based attestation</a>, service <a href="./#attestation">attestation</a>, and <a href="./#delegating-security-decisions-to-other-sessions">security section</a>; and extended variable replacement in <a href="./#access-control">access control policies</a></li>
<li>Added <a href="./#config-fragment">configuration fragment secrets</a></li>
<li>Added <a href="./#pgp-key">OpenPGP key secrets</a></li>
<li>Added session signers in <a href="./#access-control">access control policies</a></li>
<li>Added <a href="./#secret-backends">Azure Key Vault secret backend</a></li>
<li><a href="./#secret-injection-files">File permissions of secret injection files</a> can now be controlled in the session</li>
<li>Added <a href="./#governance">session governance</a></li>
<li>Added <code>san</code> field for <a href="./#x509-and-x509-ca">x509 secrets</a></li>
</ul>
<p><strong>v0.3.9 (SCONE 5.7.0):</strong></p>
<ul>
<li>Added <a href="./#singleton-enclaves">singleton enclaves</a></li>
<li>Added <a href="./#2fa-with-service-access-tokens">service access tokens</a> for 2-factor-authentication</li>
<li>Added PKCS#12 encoding for <a href="./#x509-and-x509-ca">X.509 certificates</a> (<code>:pkcs12-with-private-key</code> secret format)</li>
</ul>
<p><strong>v0.3.8 (SCONE 5.6.0):</strong></p>
<ul>
<li>Added experimental support for <a href="./#2fa-with-time-based-one-time-passwords">One-Time Passwords</a> for 2-factor-authentication</li>
<li>Added experimental support for <a href="./#host-program-arguments-and-environment-variables">Host Argument Expansion</a></li>
</ul>
<p><strong>v0.3.7 (SCONE 5.4.0):</strong></p>
<ul>
<li>Added support for <a href="./#aad-token">AAD tokens</a> to retrieve <em>Microsoft Azure Active Directory</em> tokens</li>
<li>Allow importing secrets from <a href="./#microsoft-azure-key-vault-import">Azure Key Vault</a></li>
<li>Added <a href="./#microsoft-azure-attestation">Microsoft Azure Attestation</a></li>
<li>Added new <a href="./#attestation">service attestation section</a>, including support for <code>mrsigner</code>-based attestation</li>
<li>Allow using secrets as <a href="./#fspf">FSPF keys</a></li>
<li>Added RSA <a href="./#private-key">private key types</a></li>
<li>Allow <a href="./#private-key">private key</a> migration</li>
</ul>
<p><strong>v0.3.6 (SCONE 5.3.0):</strong></p>
<ul>
<li>Added <a href="./#binary">binary secret format</a> <code>:base64</code></li>
<li>Added <a href="./#local-cas-sessions">secret &amp; volume exports</a> towards namespaces</li>
</ul>
<p><strong>v0.3.5 (SCONE 5.2.0):</strong></p>
<ul>
<li>Added <a href="./#namespaces">session namespaces</a></li>
<li>Added <a href="./#secret-kinds">new secret formats</a> <code>:pem</code>, <code>:pkcs8:pem</code>, <code>:der</code>, <code>:pkcs8:der</code>, <code>:crt</code>, <code>:crt:pem</code>, <code>:crt:der</code>, <code>:privatekey</code>, <code>:privatekey:pem</code>, <code>:privatekey:der</code>, <code>:privatekey:pkcs8:pem</code>, <code>:privatekey:pkcs8:der</code>, <code>:chain</code>, <code>:bin</code>, <code>:hex</code></li>
</ul>
<p><strong>v0.3.4 (SCONE 5.1.0):</strong></p>
<ul>
<li>Added <a href="./#private-key">private key types</a></li>
</ul>
<p><strong>v0.3.2 (SCONE 4.2.0):</strong></p>
<ul>
<li>Added <a href="./#volume-tag-update-policy">volume tag update policies</a></li>
</ul>
<p><strong>v0.3.1 (SCONE 4.1.0):</strong></p>
<ul>
<li>Added the <a href="./#attestation-security">security section</a>, with attestation <code>mode</code>, <code>tolerate</code> and <code>trusted_scone_qe_pubkeys</code> fields</li>
<li>Added list representation for <a href="./#command">service commands</a></li>
</ul>
<p><strong>v0.3.0 (SCONE 4.0.0, compared to v0.2):</strong></p>
<ul>
<li>The format by which other sessions are referenced for export/import purposes has changed (see <a href="./#referencing-other-sessions">Referencing Other Sessions</a>)</li>
<li>Secrets can now be exported/imported to/from sessions located on another CAS</li>
<li>Certificates can now be specified as explicit values for <code>x509</code> secrets.</li>
<li><code>x509</code> secrets now require a <code>private-key</code> secret (unless imported or given an explicit value). This allows more fine-grained export rules (exporting only the certificate, but not the private key) and issuing multiple certificates using the same key</li>
<li><code>x509</code> secrets have new parameters: <code>private_key</code>, <code>common_name</code>, <code>endpoint</code>, <code>dns</code>, <code>issuer</code>, <code>valid_for</code></li>
<li>Access Control Policies now use certificate keys instead of entire certificates - certificate hashes have been replaced by certificate key hashes</li>
</ul>
<h2 id="session-description-hash">Session Description Hash</h2>
<p>Each session description has a unique hash value, in short just <code>session hash</code>.
This value is used to reference the session in multiple situations.
For example, when a session shall be updated the hash of the predecessor session has to be provided to ensure continuity, i.e., no lost-updates.</p>
<p>The session hash is deterministically calculated from the session description, such that any modification to the description would yield a different hash.
Moreover, the calculation is cryptographically sound in the sense that a malicious operator can not come up with a modified session description that has the same session hash, i.e., it is <a href="https://en.wikipedia.org/wiki/Preimage_attack">Preimage-Attack</a> resistant.</p>
<p>The exact procedure of how the session hash is obtained is an implementation detail.</p>
<h2 id="session-description-structure">Session Description Structure</h2>
<p>There are a number of top-level keys in a session file.</p>
<h3 id="version">Version</h3>
<p>This document describes versions 0.3.10 and older.
Always specify the version that provides the set of features you need:</p>
<pre class="highlight"><code class="language-yaml">version: "0.3.10"</code></pre>
<p>If a feature does not mention a version, it was introduced with <code>v0.3.0</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are targeting a SCONE version older than 5.8.0, always specify <code>v0.3</code> (without a minor version).</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Without a <code>version</code> field, version 0.1 is assumed, make sure to include the field in all session descriptions in order to use version 0.3.x.</p>
</div>
<h3 id="session-name">Session Name</h3>
<p>Every session description has to provide a <code>session name</code>, or short just <code>name</code>.
The session name is used to reference a session over the course of its lifetime: while a <code>session hash</code> identifies a unique, immutable description of a session, the session description referenced by a <code>session name</code> can be changed by the session's owner.
Thus, the <code>session name</code> is the primary property with which a session is referenced outside of session management.</p>
<p>As sessions will be routeable in a future version of CAS and session names are the primary way of referencing a session, they have to obey certain restrictions regarding the allowed character set: Only URI "Unreserved Characters" as defined by <a href="https://www.ietf.org/rfc/rfc3986.txt">RFC3986</a> are permitted, and names can be at most 128 characters long.
In <a href="https://en.wikipedia.org/wiki/Perl_Compatible_Regular_Expressions">PCRE</a> the match clause matching valid session names would be <code>[A-Za-z0-9_\-.~]{1,128}</code>.</p>
<p>Example:</p>
<pre class="highlight"><code class="language-yaml">name: my-testing-session</code></pre>
<p>Providing a session name is <strong>mandatory</strong>.</p>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.5</p>
</div>
<h4 id="namespaces">Namespaces</h4>
<p>Sessions can be organized hierarchically, by creating them within the <strong>namespace</strong> of another session. Organizations and large teams can benefit from namespaces to structure their sessions and restrict the creation and management of nested sessions to a set of authorized users.</p>
<p>In order to create session <code>hello-world</code> in the namespace of a previously created session <code>my-company</code>, set the new session's name to:</p>
<pre class="highlight"><code class="language-yaml">name: my-company/hello-world</code></pre>
<p>You must have <a href="./#access-control">permission to create the session</a> in this namespace.</p>
<p>Namespaces can be nested:</p>
<pre class="highlight"><code class="language-yaml">name: my-company/project-1/hello-world</code></pre>
<h3 id="predecessor-session">Predecessor Session</h3>
<p>If a session description is an update for a previously existing session, i.e. the session's name is already in use, it has to include the previous session's hash to detect and prevent lost updates.</p>
<pre class="highlight"><code class="language-yaml">predecessor: e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The value has to be 32 hex encoded bytes.</p>
</div>
<p>When creating a session, no predecessor session exists and hence no <code>predecessor</code> key is permitted.</p>
<h2 id="service-description">Service Description</h2>
<p>Services of a SCONE application are described below the <code>services</code> top-level key.
A service in a SCONE session is a SCONE program with a specific software state and configuration.
For now, there can be an unlimited number of instances of a service.</p>
<p>In the current version, the service description specifies the service configuration and which software (code) is allowed to access it.
A service configuration consists of the command to be executed, any environment variables and the process working directory from which path resolution of relative paths starts.
These properties may contain secrets and would be prone to inspection and manipulation by adversaries.</p>
<pre class="highlight"><code class="language-yaml">services:
  - name: my-test-service
    command: test --arg=value
    environment:
        VAR_1: value
    pwd: /
    fspf_path: /main.fspf
    fspf_key: "66e7935397249112d1148e6ce98a396a8c96b3b0ae70708c16ff284c66f0821e"
    fspf_tag: "5a0fe9bdcfed5c0391a707e05f6cfbeb"</code></pre>
<h3 id="name">name</h3>
<p>To be able to identify a service, every service has to have a <code>name</code> key.
As the name will be part of the routeable session identification in the future, its character set and length is restricted in the same way as the session name is.</p>
<pre class="highlight"><code class="language-yaml">    name: my-test-service</code></pre>
<p>Providing a service name is <strong>mandatory</strong>.</p>
<h3 id="command">command</h3>
<p>The command of a service is a sequence of the program's name plus any <a href="https://en.wikipedia.org/wiki/Command-line_interface#Arguments">command-line arguments</a> that have to be provided for it to deliver the expected service.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The first element of the command, the program name, should match the actual program's file name.
Although not enforced, in the future automatic scheduling will not function properly if the provided program name does not match.</p>
</div>
<pre class="highlight"><code class="language-yaml">    command: test --arg=value</code></pre>
<p>The command is split at whitespace characters. If spaces should be preserved for an argument, either quote the argument (with single or double quotes):</p>
<pre class="highlight"><code class="language-yaml">    command: mysql -e "show databases;"</code></pre>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.5</p>
</div>
<p>or use a list instead:</p>
<pre class="highlight"><code class="language-yaml">    command: ["mysql", "-e", "show databases;"]</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Command arguments have to be C-String compatible, i.e., they are not allowed to contain a NULL byte.</p>
</div>
<h3 id="environment">environment</h3>
<p>The <a href="https://en.wikipedia.org/wiki/Environment_variable">environment variables</a> provide a process with values that are needed to provide the expected service.
As we cannot trust pre-existing environment variables, only the environment specified in the session policy will be available to the SCONE program.</p>
<pre class="highlight"><code class="language-yaml">    environment:
        VAR_1: value</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li>Variable names and values have to be C-String compatible, i.e. they are not allowed to contain the NULL byte. Moreover, variable names are not allowed to contain the equal (=) sign.</li>
<li>Environment variables that are consumed during enclave creation (e.g., <code>SCONE_HEAP</code>), or used by the SCONE runtime (e.g., <code>SCONE_CAS_ADDR</code>) should not be included in the list of environment variables for the service as they will have no effect. Instead, they should be provided directly during program invocation. Note that the value of <code>SCONE_HEAP</code> affects <code>mrenclave</code> and via <code>mrenclave</code>, a session description can also limit the set of permitted <code>SCONE_HEAP</code> values.</li>
</ul>
</div>
<h3 id="pwd">pwd</h3>
<p>The <a href="https://en.wikipedia.org/wiki/Working_directory">process working directory (pwd)</a>, or current working directory (cwd), is the directory from which relative paths are resolved.
For example, a program writing a private key to <code>private.key</code> with pwd of <code>/encrypted/</code> would resolve actually write to <code>/encrypted/private.key</code>.
Changing the pwd to <code>/plaintext/</code> before the writing would lead it to write the private key to <code>/plaintext/private.key</code> instead.
To prevent this kind of manipulation the pwd of a SCONE service has to be specified explicitly in the session description.</p>
<pre class="highlight"><code class="language-yaml">    pwd: /home/user/scone/encrypted</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please note that:
- The specified directory has to exist in the environment the SCONE program will be executed in. If it is not found, the program cannot start.
- The provided value has to be C-String compatible, i.e. it is not allowed to contain the NULL byte.
- The allowed character may be further restricted by the used file system.</p>
</div>
<h3 id="fspf">FSPF</h3>
<p>The main File System Protection File (FSPF) protects the integrity and confidentiality of the file system used by the service.
The main FSPF protects files and directories that are associated with the service, such as optional code stored in shared libraries, images or data source used by the service.
<a href="./#volumes">Volume FSPFs</a> are better suited to protect file that are transferred between services, for example, as a means of input and output.</p>
<p>Main FSPF are configured with three options:</p>
<pre class="highlight"><code class="language-yaml">services:
  - name: my_service
    fspf_path: /main.fspf
    fspf_key: "66e7935397249112d1148e6ce98a396a8c96b3b0ae70708c16ff284c66f0821e"
    fspf_tag: "5a0fe9bdcfed5c0391a707e05f6cfbeb"</code></pre>
<ul>
<li>The location of the file in the file system is specified in the <code>fspf_path</code> option</li>
<li><code>fspf_key</code> is a 32 byte long hex-encoded encryption key...</li>
</ul>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.5</p>
</div>
<ul>
<li>... or a reference to a compatible SCONE binary secret (<code>$$SCONE::&lt;secret-name&gt;$$</code>)</li>
<li><code>fspf_tag</code> is a hex-encoded 16 byte value describing the initial filesystem state</li>
</ul>
<p>Key and tag are obtained from the output of the SCONE CLI upon creation of the FSPF, using the <code>scone fspf create</code> command.</p>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.11</p>
</div>
<h4 id="main-fspf-tag-update-policy">Main FSPF Tag Update Policy</h4>
<p>By default, service file systems are rollback-protected when an FSPF is enabled: Attempting to restore an old filesystem state and letting a service read files from or write files to this old state will be detected and prevented. In specific cases, however, this may not be the desired behavior. The <code>fspf_update_policy</code> key can be used to change it:</p>
<pre class="highlight"><code class="language-yaml">services:
  - name: my_service
    fspf_path: /main.fspf
    fspf_key: "66e7935397249112d1148e6ce98a396a8c96b3b0ae70708c16ff284c66f0821e"
    fspf_update_policy: no_rollback_protection</code></pre>
<p>The following values are possible as a <code>fspf_update_policy</code>:</p>
<ul>
<li><code>rollback_protected_reinitializable</code>: This is the default setting if <code>fspf_update_policy</code> is omitted. Services are allowed to alter the filesystem's state, rollbacks will be detected and lead to an error upon access. This ensures a coherent, linear history of filesystem changes. There is one exception to this rule: Filesystems are allowed to roll back to the initial state, given by the <code>fspf_tag</code> in the session. This is called "reinitializable". It allows multiple services to be started in parallel, each having their own, independent filesystem state.</li>
<li><code>no_rollback_protection</code>: Services are allowed to alter the filesystem's state and rollback prevention checks are disabled. This option is dangerous, as it also allows third parties to perform rollbacks unnoticed. It should not be necessary for most use cases. <code>fspf_tag</code> can be omitted with this setting.</li>
</ul>
<h3 id="image">Image</h3>
<p>A service can optionally use an image, which has to be specified as part of the session (see Section <a href="./#images">Images</a>).</p>
<pre class="highlight"><code class="language-yaml">services:
  - name: my_service
    image_name: my_image</code></pre>
<p>Images must be specified if their volumes or secret injection files should be used by a service.</p>
<h3 id="attestation">Attestation</h3>
<p>Attestation is the process of verifying a remote SCONE program's integrity, ensuring it has not been (maliciously) manipulated.
SCONE programs have to engage into attestation with CAS to be allowed to access their service's configuration and secrets.
That is, only SCONE programs that can show (using attestation) that they satisfy a certain attestation policy are provided with arguments, environment variables, and secrets.</p>
<p>The service-level attestation configuration depends on the session's global <a href="./#attestation-security">attestation security settings</a>.
Particularly, if attestation has been disabled for the whole session, then service-level attestation configurations have no effect.</p>
<p>There are a couple of strategies how one can enforce the security goals of an application.
Typically, only one is chosen, but they can also <a href="./#combining-attestation-factors">be combined to achieve multi-factor authentication (MFA)</a>.
Also note <a href="./#platform-based-attestation">platform restrictions</a> for an additional factor.
The authentication factors are configured in a service's description in the <code>attestation</code> section.
The <code>attestation</code> section may hold multiple attestation variants where at least one variant has to be fulfilled by an enclave to gain access.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If attestation is not deactivated globally in the session, each service must specify at least one valid attestation variant.
Otherwise, validation of the session will fail.
That is because a service without attestation configuration cannot start.</p>
</div>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.7</p>
</div>
<h4 id="attestation-configuration-example">Attestation Configuration Example</h4>
<p>&nbsp;</p>
<pre class="highlight"><code class="language-yaml">services:
  - name: loadbalancer
    attestation:
      - mrenclave:
          - 2c4de8cbe6725f7e11f2f5240bc7e0b7fe0651f2997a48c87ca38918574ef076
          - bac31957ee05e5f3f95ea10632008315bf314a536a453dbb787be02c5b920b88
        signer:
          mrsigner: ce24e0918a348837738a18c4ce7a3afe3aed8acb58ee6ddb6031a570a1e1401c
          isvprodid: 6
      - signer:
          mrsigner: 1190831f4e21529d6702681f2906d5a27cc7cf1900bc323cd1cdedb2dc27edbd
          isvprodid: 213
          isvsvn_min: 13</code></pre>
<p>The above example allows successful service attestation in <strong>any</strong> of the following cases:</p>
<ul>
<li>The application has either mrenclave <code>2c4de8cbe6725f7e11f2f5240bc7e0b7fe0651f2997a48c87ca38918574ef076</code> or mrenclave <code>bac31957ee05e5f3f95ea10632008315bf314a536a453dbb787be02c5b920b88</code>, and was additionally signed by mrsigner <code>ce24e0918a348837738a18c4ce7a3afe3aed8acb58ee6ddb6031a570a1e1401c</code> with product ID 6 and any security version number.</li>
<li>The application was signed by mrsigner <code>1190831f4e21529d6702681f2906d5a27cc7cf1900bc323cd1cdedb2dc27edbd</code> with product ID 213, and has a security version number greater than or equal to 13. Its mrenclave is not being checked.</li>
</ul>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.10</p>
</div>
<p>SCONE variables of the form <code>$$SCONE::secret_name$$</code> can be used within the attestation configuration.
This facilitates delegating attestation policies to other sessions (via secret import).</p>
<p>The following sections describe each particular attestation factor, how to obtain application-specific enclave measurement (<code>mrenclave</code>) and signer identity (<code>mrsigner</code>) values, as well as how to combine them.</p>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.7</p>
</div>
<h4 id="code-identity-based-attestation">Code Identity-based Attestation</h4>
<p>In <em>Code Identity-based Attestation</em> the Code (and data) that is initially loaded into the enclave is used to authorize access.
The reasoning behind this is that this initial enclave state determines the enclave's entire behavior throughout its lifetime.
Therefore, knowing the initial state allows the verifier to assess whether the program will handle data confidentially and calculate the expected results.
Instead of verifying the code loaded into the enclave directly, which is often impractical due to the code's complexity or availability, a hash representation of the initialized code is compared to a hash or list of hashes of well-behaving code.</p>
<p>SCONE offers two Code Identity-based Attestation mechanisms:</p>
<ul>
<li>Measurement-based SGX Attestation uses SGX' enclave measurement value to attest an enclave, while</li>
</ul>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.9</p>
</div>
<ul>
<li>Singleton-based Attestation, is an enhanced mechanism that is based on SGX' enclave measurement values but offers better security.</li>
</ul>
<p>SCONE Singleton-based Attestation improves over Measurement-based Attestation by ensuring that the enclave is fresh, i.e., it has not been tampered with by an adversary.
If an adversary is able to exploit an enclave and gain control over its execution, they can make the enclave pretend to be a new enclave and query CAS for secrets.
With Measurement-based attestation, CAS is not able to detect such attacks since it only verifies the initial enclave state (before the enclave was exploited).
Singleton-based Attestation enables CAS to establish that an enclave has not been used before and, thus, can not been exploited already.
Note that Singleton-based Attestation is necessary to secure execution of program that dynamically load code (<code>SCONE_ALLOW_DLOPEN</code> is set).</p>
<p>You'll find more details about Singleton-based Attestation at <a href="./#singleton-enclaves">Singleton Enclaves</a>.
From the usage perspective, Measurement-based SGX Attestation and Singleton-based Attestation are almost identical.
The only difference is that Singleton-based Attestation must be activated by activating the <code>singleton_enclaves</code> security setting:</p>
<pre class="highlight"><code class="language-yaml">security:
  singleton_enclaves: true</code></pre>
<p><code>singleton_enclaves</code> are deactivated by default due to backwards-compatibility reasons.
Starting with the next session language version <code>singleton_enclaves</code> will be active by default.</p>
<p>Code Identity-based SGX attestation gives access to service secrets based on the enclave measurement value, abbreviated as <code>mrenclave</code>.
An enclave measurement value uniquely identifies the enclave's initial state.
The measurement value of a SCONE program can be determined by running it either with <code>SCONE_VERSION</code> or <code>SCONE_HASH</code> environment variables set.</p>
<p>For example, if you have an executable <code>go-webserver</code> you can determine its measurement value by executing:</p>
<pre class="highlight"><code class="language-bash">$ SCONE_HASH=1 ./go-webserver
d08b7351eeb8d5c0653d32794218f183ac9c6fa3923b67052752f78a3559de61</code></pre>
<p>Any modifications to the executable, malicious or not, will void access capabilities using measurement-based attestation.</p>
<p>A service can define a single enclave measurement value, or a list of values that are allowed to get access to the configuration as follows:</p>
<pre class="highlight"><code class="language-yaml">services:
  - name: my_service
    attestation:
      mrenclave: d08b7351eeb8d5c0653d32794218f183ac9c6fa3923b67052752f78a3559de61
security:
  singleton_enclaves: true</code></pre>
<p>An example in which multiple enclaves have access is shown here:</p>
<pre class="highlight"><code class="language-yaml">services:
  - name: my_service
    attestation:
      mrenclave:
        - 228be796e784d152987014aae213a536c881533d07c81a224775234cd1c4c290
        - e96a21c7f86eae2b311f84c6509dd849ff2ac1da0b8d6c64e0dacba912b6c139
security:
  singleton_enclaves: true</code></pre>
<p>For example, you can define <code>mrenclave</code>s for different permitted <code>HEAP_SIZE</code>s. Also, to permit a smooth transition to new service versions, you can first add the mrenclaves of the new version, upgrade the services, and then remove the <code>mrenclave</code>s of the old service version.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The enclave measurement value (<code>mrenclave</code>) has to be a sequence of 32 hex-encoded bytes.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Note that some programs' behavior significantly depends on configuration and/or input data.
A good example for such programs are interpreted languages (Python, Java, JavaScript, C#, ...).
The program code loaded into the enclave for interpreted languages is typically only the code of the interpreter while the user applications code is read from the file system.
For such programs additional protection mechanism must be in place to run securely.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Depending on the concrete enclave program code, not enforcing a particular <a href="./#signer-based-sgx-attestation">signer identity</a> can lead to security risks.
For example, SGX-derived signer sealing keys depend on the signer identity.
If an adversary is able to exchange the enclave's original signature structure with their own, an enclave utilizing such keys would use keys essentially controlled by the adversary.</p>
</div>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.7</p>
</div>
<h4 id="signer-based-sgx-attestation">Signer-based SGX Attestation</h4>
<p>A signer can associate additional data with an enclave, which can be used to authorize access to configuration and secrets in CAS.
This data consists of the signer identity (<code>mrsigner</code>), a product ID (<code>isvprodid</code>) and, optionally, a security version number (<code>isvsvn</code>).</p>
<p>By verifying a trusted enclave signer instead of the enclave's code, software updates can be simplified, as the signer just has to sign the updated enclave, and the session doesn't need to be changed.
However, it also puts all trust about the code integrity into the entity controlling the signer identity / private key.</p>
<p>The data associated with a compiled SCONE program can be determined with the <code>scone-signer</code> tool:</p>
<pre class="highlight"><code class="language-bash"># scone-signer info ./test
SIGSTRUCT:
        Header: 06000000e10000000000010000000000
        Vendor: 00000000
        Date: 00000000
        Header #2: 01010000600000006000000001000000
        Software defined: 00000000
        Modulus: [ .. ]
        Exponent: 03000000
        Signature: [ .. ]
        Misc Select: 00000000
        Misc Mask: 00000000
        Attributes: 06000000000000000300000000000000
                Debug: yes
                64-bit Mode: yes
                Access to Provisioning Key: no
                Access to EINITTOKEN Key: no
                XFRM: 0300000000000000
        Attributes Mask: 0600000000000000fbffffffffffffff
                Debug: yes
                64-bit Mode: yes
                Access to Provisioning Key: no
                Access to EINITTOKEN Key: no
                XFRM: fbffffffffffffff
        MRENCLAVE: 54b6de36d5d041453e7e00ae13ef7e520754e2785afecd4bbb5a1194ca65e671
        ISV Product ID: 12
        ISV SVN: 5
        Q1: [ .. ]
        Q2: [ .. ]

[ .. ]

MRSIGNER: 11c4e150b76c2b145f7fadb6c30455e1046b9e6fbb75b49c6e13341ad8acc5bd

Enclave Parameters:
        Number of TCS: 8
        Enclave size: 68719476736
        Heap size: 67108864
        Minimal heap size (EDMM): 20971520
        Default stack size: 2097152
        Flags:
                DLOPEN: not allowed
                MPROTECT: disabled

[ .. ]</code></pre>
<p>Some fields have been omitted for brevity.
These values can be set using the tool's <code>sign</code> command or by specifying <code>SCONE_KEY</code>, <code>SCONE_ISVPRODID</code> and/or <code>SCONE_ISVSVN</code> during compilation with one of the SCONE compilers.</p>
<p>Use the <code>signer</code> subsection to authorize access based on the signer associated data of an enclave:</p>
<pre class="highlight"><code class="language-yaml">services:
  - name: my_service
    attestation:
      signer:
        mrsigner: 11c4e150b76c2b145f7fadb6c30455e1046b9e6fbb75b49c6e13341ad8acc5bd
        isvprodid: 12</code></pre>
<p>The <code>signer</code> section must always list a single signer identity (<code>mrsigner</code>) and a product ID (<code>isvprodid</code>).
The security version number is optional; if omitted, it is not being checked.
Otherwise, it can be a specific version (<code>isvsvn</code>), or a range of versions (<code>isvsvn_min</code> and/or <code>isvsvn_max</code>).</p>
<pre class="highlight"><code class="language-yaml">services:
  - name: webserver
    attestation:
      signer:
        mrsigner: 11c4e150b76c2b145f7fadb6c30455e1046b9e6fbb75b49c6e13341ad8acc5bd
        isvprodid: 1
        isvsvn: 4
  - name: database
    attestation:
      signer:
        mrsigner: 11c4e150b76c2b145f7fadb6c30455e1046b9e6fbb75b49c6e13341ad8acc5bd
        isvprodid: 2
        isvsvn_min: 2
        isvsvn_max: 5</code></pre>
<p>In the above example, the webserver program/enclave has product id 1 and only enclaves with an associated security version number of 4 are permitted to access the configuration.
The database program/enclave must have product id 2 and the security version number must be 2, 3, 4, or 5.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>isvsvn_min</code> and <code>isvsvn_max</code> are inclusive.</p>
</div>
<p>If there is no upper or lower bound for the security version number, the respective option (<code>isvsn_min</code> or <code>isvsvn_max</code>) can be omitted.
Specific versions (<code>isvsvn</code>) and version ranges (<code>isvsvn_min</code> and/or <code>isvsvn_max</code>) cannot be used at the same time.</p>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.7</p>
</div>
<h4 id="combining-attestation-factors">Combining Attestation Factors</h4>
<p>Code-identity- and signer-based attestation can be combined to yield an attestation schema with stronger guarantees.</p>
<pre class="highlight"><code class="language-yaml">services:
  - name: my_service
    attestation:
      mrenclave:
        - 2c4de8cbe6725f7e11f2f5240bc7e0b7fe0651f2997a48c87ca38918574ef076
        - bac31957ee05e5f3f95ea10632008315bf314a536a453dbb787be02c5b920b88
      signer:
        mrsigner: 1190831f4e21529d6702681f2906d5a27cc7cf1900bc323cd1cdedb2dc27edbd
        isvprodid: 8</code></pre>
<p>In the above example, the enclave has to fulfill <strong>both</strong> mrenclave and signer requirements in order to pass attestation.</p>
<p>Such a combination has the advantage that the signer doesn't need to be trusted regarding the code's integrity anymore.
At the same time, the signer must have also expressed its trust into the program (second factor).</p>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.7</p>
</div>
<h4 id="independent-attestation-factors">Independent Attestation Factors</h4>
<p>Multiple <strong>independent</strong> attestation variants can be configured as well:</p>
<pre class="highlight"><code class="language-yaml">services:
  - name: my_service
    attestation:
      - mrenclave:
        - 2c4de8cbe6725f7e11f2f5240bc7e0b7fe0651f2997a48c87ca38918574ef076
        - bac31957ee05e5f3f95ea10632008315bf314a536a453dbb787be02c5b920b88
      - signer:
          mrsinger: 1190831f4e21529d6702681f2906d5a27cc7cf1900bc323cd1cdedb2dc27edbd
          isvprodid: 8</code></pre>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Please note the difference to the <a href="./#combining-attestation-factors">previous example</a>: Here, <code>attestation</code> is a list (there are dashes in front of <code>mrenclave</code> and <code>signer</code>).</p>
</div>
<p>Here, two independent attestation variants are configured.
One code-identity-based and one signer-based attestation variant.
Any enclave fulfilling <strong>either</strong> variant's requirements is granted access.
In this example, that is an encave with one of the two listed enclave measurement values and <strong>any</strong> signer identity is allowed access, as well as, any enclave signed by the listed signer identity with ISV product ID 8 and <strong>any</strong> enclave measurement value.</p>
<p>Having more than one attestation configuration enables the definition of more complicated attestation requirements.
It becomes necessary, for example, when the signer identity is supposed to be changed and facilitates software updates.</p>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.0</p>
</div>
<h4 id="deprecated-attestation-configuration">Deprecated Attestation Configuration</h4>
<p>Measurement-based Attestation can also be configured via the legacy <code>mrenclaves</code> sections.
This configuration variant is deprecated through and will be removed in the next version of the session language.</p>
<pre class="highlight"><code class="language-yaml">services:
  - name: my_service
    mrenclaves:
      - d08b7351eeb8d5c0653d32794218f183ac9c6fa3923b67052752f78a3559de61
      - b138e442406ee2bd571be7fd8ddd428f21421fb23ebddd6d739d890c81758c8c</code></pre>
<p>The above configuration is equivalent to the following one using the current configuration format.</p>
<pre class="highlight"><code class="language-yaml">services:
  - name: my_service
    attestation:
      mrenclave:
        - d08b7351eeb8d5c0653d32794218f183ac9c6fa3923b67052752f78a3559de61
        - b138e442406ee2bd571be7fd8ddd428f21421fb23ebddd6d739d890c81758c8c</code></pre>
<h4 id="platform-based-attestation">Platform-based Attestation</h4>
<p>Platform-based attestation gives access to services that are deployed on a specific platform.
<strong>This is not sufficiently secure on its own to prevent program manipulation!</strong>
Thus, platform-based attestation should always be combined with another attestation factor.</p>
<p>The <code>platform</code> identity is the public key of the SCONE Quoting Enclave (SCONE QE), which is part of the <strong>SCONE Local Attestation Service (LAS)</strong>.
The SCONE QE will have a unique public key on each platform. Platforms that are allowed to get access to the configuration can be specified as follows:</p>
<pre class="highlight"><code class="language-yaml">  platforms: [2c45c8294d491808aa9b2a6bca01b8e185ffc69266c833546e5dca1c676a6151]</code></pre>
<p>Platform-based attestation requires the SCONE attestation scheme, which is used by default.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The platform identity has to be a sequence of 32 hex-encoded bytes (i.e., 64 characters).</p>
</div>
<p>You can determine the public platform key using the SCONE CLI:</p>
<pre class="highlight"><code class="language-bash">$ scone las scone-epid-trust-anchor --las las.server.address
Unverified Information! An adversary could have manipulated this information!
Provide IAS credentials to allow attestation and prevent manipulations
Public Key:             2c45c8294d491808aa9b2a6bca01b8e185ffc69266c833546e5dca1c676a6151
Enclave Measurement:    1bf719b124c4be51edb607ea8f2282b5209c4dfe80b3d7bef2cf492161eaac75</code></pre>
<p>In this example, the platform key is <code>2c45c8294d491808aa9b2a6bca01b8e185ffc69266c833546e5dca1c676a6151</code>.</p>
<p>You also find the key in the output of the LAS container:</p>
<pre class="highlight"><code>[10000:INFO@25.03.2021/10:53:17] STARTER: SCONE QE has public key 2C45C8294D491808AA9B2A6BCA01B8E185FFC69266C833546E5DCA1C676A6151</code></pre>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.10</p>
</div>
<p>A platform entry can also be a reference to a SCONE secret:</p>
<pre class="highlight"><code class="language-yaml">services:
  - name: my_service
    platforms:
      - 2c45c8294d491808aa9b2a6bca01b8e185ffc69266c833546e5dca1c676a6151
      - $$SCONE::platform_2$$

secrets:
  - name: platform_2
    import:
      session: platform_policy
      secret: authorized_platform</code></pre>
<h2 id="secrets">Secrets</h2>
<p>Secrets are defined in the <code>secrets</code> section of the session.
Each secret is uniquely identified with a name.
The values of secrets are either generated by CAS or are explicitly given in the session.
The former has the advantage that the secret value is never known by any human.
Secret values can be injected into program arguments, environment variables and files (see <a href="./#secret-injection">Secret Injection</a>).</p>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.10</p>
</div>
<h3 id="character-encoding">Character Encoding</h3>
<p>Each secret kind provides individual formatting modifiers explained in the respective kind section (see <a href="./#secret-kinds">Secret Kinds</a>).
For example, using format modifiers, one can obtain a X509 certificate in PEM or DER format.
However, the resulting values may not be compatible with your application's expected data format.
You may want to use the PEM-encoded x509 certificate in an application's JSON-encoded configuration file.
JSON has specific encoding requirements, in particular, it requires newline characters to be escaped.
This conflicts with the newlines used in the PEM format.
That is, without further processing the certificate can not be used in the JSON config file.
This is where character encoding comes into play.</p>
<p>Character encoding takes a previously formatted secret value and applies an encoding, i.e., it modifies the value according to some "rules" such that it is consumable by the application.
Character encodings are appended to the secret value formatting rules using a pipe: <code>$$SCONE:my_secret|escape(json)$$</code> would apply the <code>escape(json)</code> encoding to the default format representation of the secret <code>my_secret</code>.
The following encodings are supported:</p>
<ul>
<li>JSON string escaping: <code>escape(json)</code> escapes a string secret according to <a href="https://www.rfc-editor.org/rfc/rfc7159#section-7">https://www.rfc-editor.org/rfc/rfc7159#section-7</a>
  The resulting value can be used in JSON-encoded data.
  Note that, this escaping does NOT add double-quotes to beginning and end of the secret.
  These values are compatible with YAML's double-quoted strings (see <a href="http://yaml.org/spec/1.2-old/spec.html#id2787109">http://yaml.org/spec/1.2-old/spec.html#id2787109</a>) as well.</li>
</ul>
<h3 id="secret-kinds">Secret Kinds</h3>
<p>In most cases, the kind of a secret has to be specified as well.
This is necessary for CAS to know how to <strong>generate</strong> its value or how to interpret the value provided in the session, in the case of <strong>explicit secrets</strong>.</p>
<p>We support these four kinds of secrets: ASCII, binary, private keys and X.509 certificates (end-entity or CA certificates).</p>
<h4 id="ascii">ascii</h4>
<p>An ASCII secret is a string comprised of ASCII characters. It is guaranteed not to contain NULL bytes. Generated values can contain any printable ASCII character, including special characters, like <code>/</code>, <code>\\</code>, <code>~</code>, ```, etc.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>size</code> - the length of generated values, in characters. Optional. Default value: <code>20</code></li>
</ul>
<p><strong>Example:</strong></p>
<pre class="highlight"><code class="language-yaml">secrets:
    - name: my_generated_ascii_secret
      kind: ascii
      size: 12
    - name: my_explicit_ascii_secret
      kind: ascii
      value: "secret-value"</code></pre>
<p><strong>Secret Placeholders:</strong></p>
<p>Assuming a secret named <code>my_password</code>, use <code>$$SCONE::my_password$$</code> in program arguments, environment variables or secret injection files (see <a href="#secret-injection">Secret Injection</a>). ASCII secrets do not support any format suffix.</p>
<h4 id="binary">binary</h4>
<p><code>binary</code> secrets behave similar to <code>ascii</code> secrets except</p>
<ul>
<li>they can contain NULL bytes,</li>
<li>generated values are not restricted to printable ASCII characters, and</li>
<li>explicit secret values have to be specified encoded as a hexadecimal string.</li>
</ul>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>size</code> - the length of generated values, in bytes. Optional. Default value: <code>20</code></li>
</ul>
<p><strong>Example:</strong></p>
<pre class="highlight"><code class="language-yaml">secrets:
    - name: my_generated_binary_secret
      kind: binary
      size: 32
    - name: my_explicit_binary_secret
      kind: binary
      value: DEADBEEF</code></pre>
<p><strong>Secret Placeholders:</strong></p>
<p>Assume a secret named <code>my_secret</code>:</p>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.5</p>
</div>
<ul>
<li><code>$$SCONE::my_secret$$</code> or <code>$$SCONE::my_secret:bin$$</code> - binary form. Not suitable for program arguments or environment variables</li>
</ul>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.5</p>
</div>
<ul>
<li><code>$$SCONE::my_secret:hex$$</code> - hexadecimal string representation (twice as long as binary form). Can also be used in program arguments or environment variables</li>
</ul>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.6</p>
</div>
<ul>
<li>
<p><code>$$SCONE::my_secret:base64$$</code> - base64-encoded form</p>
<p>&nbsp;</p>
</li>
</ul>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.10</p>
</div>
<ul>
<li><code>$$SCONE::my_secret:base64url$$</code> - <a href="https://www.rfc-editor.org/rfc/rfc4648.html#section-5">URL-safe base64-encoded</a> form</li>
</ul>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.10</p>
</div>
<ul>
<li><code>$$SCONE::my_secret:base32$$</code> - base32-encoded form</li>
</ul>
<p>&nbsp;</p>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.10</p>
</div>
<ul>
<li><code>$$SCONE::my_secret:base32nopad$$</code> - base32-encoded form without padding</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For CAS versions prior to 5.2.0, please use suffix <code>.hex</code> instead of <code>:hex</code>. <code>.hex</code> is still supported in later versions, but has been deprecated.</p>
</div>
<h4 id="private-key">private-key</h4>
<p>Private keys are required when generating X.509 certificates (refer to the next section).
Possession of a certificate's private key is necessary in order to sign other certificates or use them as e.g. TLS server or client certificates.
Explicit values must be specified as PEM-encoded PKCS#8 private keys.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>By default, private keys will be re-generated when updating a session, even if the secret description did not change.
Set <code>migrate: true</code> if a private key should be kept (must be present in both old and new session for migration to happen).
See also <a href="./#secret-migration">Secret Migration</a>.
In future session language versions, private keys will be migratable by default.</p>
</div>
<p><strong>Parameters:</strong></p>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.4</p>
</div>
<ul>
<li><code>key_type</code>: Optional. If specified, must be one of the following:<ul>
<li><code>P-256</code>: NIST P-256 EC private key (also known as <em>secp256r1</em> or <em>prime256v1</em>). This is the default if no type was specified.</li>
<li><code>P-384</code>: NIST P-384 EC private key (also known as <em>secp384r1</em>)</li>
<li><code>Ed25519</code>: ED25519 EdDSA private key</li>
<li><code>RSA-2048</code>: 2048-bit RSA private key</li>
<li><code>RSA-3072</code>: 3072-bit RSA private key</li>
</ul>
</li>
</ul>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.7</p>
</div>
<ul>
<li><code>migrate</code>: Whether to keep the private key when updating the session. Optional, defaults to <code>false</code>. Both old and new session must contain <code>migrate: true</code> in order for migration to happen.</li>
</ul>
<p><strong>Examples:</strong></p>
<pre class="highlight"><code class="language-yaml">secrets:
    - name: my_generated_long_term_signing_key
      kind: private-key
      key_type: Ed25519
      migrate: true
    - name: my_generated_tls_server_private_key
      kind: private-key
      key_type: P-384
    - name: my_explicit_tls_server_private_key
      kind: private-key
      value: |
        -----BEGIN PRIVATE KEY-----
        ...
        -----END PRIVATE KEY-----</code></pre>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.5</p>
</div>
<p><strong>Secret Placeholders:</strong></p>
<p>Since CAS v5.2.0, private keys are accessible in PEM-encoded or DER-encoded PKCS#8 format. Assume a secret named <code>my_key</code>:</p>
<ul>
<li><code>$$SCONE::my_key$$</code> or <code>$$SCONE::my_key:pem$$</code> or <code>$$SCONE::my_key:pkcs8:pem$$</code> - PEM-encoded PKCS#8 format</li>
<li><code>$$SCONE::my_key:der$$</code> or <code>$$SCONE::my_key:pkcs8:der$$</code> - DER-encoded PKCS#8 format</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Ed25519 private keys are serialized in PKCS#8 v2 format (also known as <code>OneAsymmetricKey</code>, defined by <a href="https://tools.ietf.org/html/rfc5958">RFC5958</a>). OpenSSL, including version 1.1.1h, does not support this format.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Accessing private keys directly is only possible starting at CAS v5.2.0. In older versions, private keys can only be accessed through X.509 certificates: <code>$$SCONE::my_tls_server_certificate.key$$</code></p>
</div>
<h4 id="x509-and-x509-ca">x509 and x509-ca</h4>
<p>CAS is able to generate and manage X.509v3 certificates, making it easy to construct a Public Key Infrastructure (PKI).</p>
<p>There are two kinds of X.509 certificates that CAS supports: <strong>End-entity</strong> and <strong>Certification Authority (CA)</strong> certificates.
Their main difference is in their capability to sign other certificates.
End-entity certificates are indicated by kind <code>x509</code>, CA certificates by <code>x509-ca</code>.
Explicit values must be specified in PEM encoding.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>private_key</code>: Unless imported or given an explicit value, each certificate requires a private key, referencing another <code>private-key</code> secret.</li>
<li><code>issuer</code>: Optional reference to another <code>x509-ca</code> certificate which signs this certificate.
    If omitted, generated certificates will be self-signed.
    Note that access to the issuer's private key is required for signing unless an explicit certificate <code>value</code> is specified.</li>
<li><code>common_name</code>: An optional certificate common name.
    If omitted, the first <code>dns</code> name (see below) will be used as the common name.
    If no DNS name has been specified, the secret's <code>name</code> will be used as the common name.</li>
<li><code>endpoint</code>: Optional, must be either <code>server</code> or <code>client</code> when specified.
    When specified, an <em>Extended Key Usage</em> (EKU) extension will be added to the generated certificate.
    If omitted, no EKU extension will be added. Only applicable to end-entity certificates.</li>
<li><code>dns</code>: Superseded by the <code>san</code> option since version 0.3.10! Optional DNS name or list of DNS names that will be included in the <em>Subject Alternative Name</em> (SAN) extension of the generated certificate.
    Only applicable to end-entity certificates. Cannot be used when the certificate has a <code>client</code> endpoint.</li>
<li><code>valid_for</code>: Optional duration (e.g.: <code>1 year</code> or <code>59d</code>) for which generated certificates are valid.
    Certificates will automatically be re-generated before they expire.
    If omitted, generated certificates stay valid for a virtually unlimited amount of time.
    Not applicable to imported certificates or certificates with an explicit <code>value</code>.</li>
</ul>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.10</p>
</div>
<ul>
<li><code>san</code>: Optional <em>Subject Alternative Name</em> or list of <em>Subject Alternative Names</em> to be included in the SAN extension of the generated certificate. Only applicable to end-entity certificates. Each entry must have one of the following formats (note that the quotation marks are required):<ul>
<li><code>"dns:&lt;DNS name&gt;"</code>, e.g. <code>"dns:example.com"</code></li>
<li><code>"ip:&lt;IP address&gt;"</code>, e.g. <code>"ip:192.168.1.2"</code> or <code>"ip:2001:db8:3333:4444:5555:6666:7777:8888"</code></li>
</ul>
</li>
</ul>
<p><strong>Example:</strong></p>
<pre class="highlight"><code class="language-yaml">secrets:
  - name: my_ca_certificate
    kind: x509-ca
    private_key: my_ca_private_key
    common_name: "My own CA"
  - name: my_generated_server_certificate
    kind: x509
    private_key: my_server_certificate_private_key
    issuer: my_ca_certificate
    common_name: "example.com"
    valid_for: 90 days
    endpoint: server
    san:
      - "dns:example.com"
      - "dns:db.example.com"
      - "dns:*.api.example.com"
      - "ip:192.168.1.2"
  - name: my_explicit_server_certificate
    kind: x509
    value: |
      -----BEGIN CERTIFICATE-----
      MIIB0TCCAXigAwIBAgIUX4hfQWl+PKcrmOFW8phCO1vtQpUwCgYIKoZIzj0EAwIw
      HzEdMBsGA1UEAwwUVGVzdCBJbnRlcm1lZGlhdGUgQ0EwIBcNMjAwNTA2MTQ1NTAx
      WhgPMzAxOTA5MDcxNDU1MDFaMBYxFDASBgNVBAMMC2V4YW1wbGUuY29tMFkwEwYH
      KoZIzj0CAQYIKoZIzj0DAQcDQgAE1gqmACizRH9ENwun/rkmqoCjxf6NPJNHTpYg
      y8D5UOy5HNZXSi6ZNNL1x89d6UZfrYfDrf/PwH5LOhrgfkm42aOBmDCBlTAdBgNV
      HQ4EFgQUw3LfMbqwEJJRr5v7itg4A5jR0ngwHwYDVR0jBBgwFoAUHgrspKzSFC8r
      0/ygrsQIGA+Ft6MwDgYDVR0PAQH/BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMB
      BggrBgEFBQcDAjAMBgNVHRMBAf8EAjAAMBYGA1UdEQQPMA2CC2V4YW1wbGUuY29t
      MAoGCCqGSM49BAMCA0cAMEQCIAC7fWVRBG3mBzfyKf/WidYVL9IcAOdYsElgHTKb
      5h5HAiBlXklXq2lXo3srdQNJ4I8QJwWMYLIZUUw7fmWKOaireg==
      -----END CERTIFICATE-----</code></pre>
<p><strong>Secret Placeholders</strong></p>
<p>Assume a secret named <code>my_x509</code>:</p>
<div class="admonition success">
<p class="admonition-title">v0.3.5</p>
</div>
<ul>
<li><code>$$SCONE::my_x509$$</code> or <code>$$SCONE::my_x509:crt$$</code> or <code>$$SCONE::my_x509:crt:pem$$</code> - PEM-encoded certificate</li>
<li><code>$$SCONE::my_x509:crt:der$$</code> - DER-encoded certificate</li>
<li><code>$$SCONE::my_x509:privatekey$$</code> or <code>$$SCONE::my_x509:privatekey:pem$$</code> or <code>$$SCONE::my_x509:privatekey:pkcs8:pem$$</code> - PEM-encoded PKCS#8 private key. The private key must be accessible.</li>
<li><code>$$SCONE::my_x509:privatekey:der$$</code> or <code>$$SCONE::my_x509:privatekey:pkcs8:der$$</code> - DER-encoded PKCS#8 private key. The private key must be accessible.</li>
<li><code>$$SCONE::my_x509:chain$$</code> - PEM-encoded certificate chain, starting at the first intermediate CA certificate (if present), and ending with the root CA certificate (if present). The certificate itself is not included. If the full chain is required, you can concatenate <code>$$SCONE::my_x509:crt$$</code> and <code>$$SCONE::my_x509:chain$$</code>.</li>
<li><code>$$SCONE::my_x509:pkcs12-with-private-key$$</code> - DER-encoded PKCS#12 archive containing certificate, private key, and certificate chain. The certificate and private key are encrypted with the empty string ("") as password. (Supported since SCONE 5.7.0)</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>CAS versions prior to 5.2.0 only support the following format suffixes (notice the dot instead of colon):</p>
<ul>
<li><code>$$SCONE::my_x509.crt$$</code> - PEM-encoded certificate</li>
<li><code>$$SCONE::my_x509.key$$</code> - PEM-encoded PKCS#8 private key</li>
<li><code>$$SCONE::my_x509.chain$$</code> - <em>Reverse</em> PEM-encoded certificate chain, with the root CA certificate first (if present), followed by intermediate CA certificates, and the certificate itself last (included).</li>
</ul>
<p>These formats are still supported by later CAS versions, but have been deprecated.</p>
</div>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.7</p>
</div>
<h4 id="aad-token">aad-token</h4>
<p>CAS can retrieve access tokens for <em>Microsoft Azure Active Directory (AAD)</em>. While they are primarily used to import secrets from <em>Azure Key Vault</em>, they can also be consumed by application services.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><a href="https://docs.microsoft.com/en-us/azure/active-directory/fundamentals/active-directory-how-to-find-tenant"><code>tenant_id</code></a>: The ID of an AAD tenant (required)</li>
<li><code>client_id</code>: The ID of an AAD application of the referenced AAD tenant (required)</li>
<li>Either of the following credentials are required:<ul>
<li><code>application_secret</code>: A shared secret that was registered with AAD</li>
<li><code>private_key</code> and <code>certificate_thumbprint</code>: A PEM-encoded PKCS#8 RSA private key belonging to a certificate that was registered with AAD, and a thumbprint of this certificate that was returned during registration.</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The AAD application must have application API permissions to access secrets of an Azure Key Vault; for information on how to set up an Azure application for API access, see <a href="https://docs.microsoft.com/en-us/azure/storage/common/storage-auth-aad-app">https://docs.microsoft.com/en-us/azure/storage/common/storage-auth-aad-app</a>. The Key Vault permissions for the application must then be configured using Azure <a href="https://docs.microsoft.com/en-us/azure/key-vault/general/assign-access-policy-portal">access policies</a> or Azure <a href="https://docs.microsoft.com/en-us/azure/key-vault/general/rbac-guide">role-based access control</a>.</p>
</div>
<p><strong>Example:</strong></p>
<pre class="highlight"><code class="language-yaml">secrets:
    - name: ad_token_1
      kind: aad-token
      tenant_id: e6c9c526-f1aa-4e0d-b207-50bad9a89d21
      client_id: 3f6a210e-83b4-4217-9eee-4f707d8aeeb3
      application_secret: "dGmbyTBE4JNAN3JJobeD"
    - name: ad_token_2
      kind: aad-token
      tenant_id: e6c9c526-f1aa-4e0d-b207-50bad9a89d21
      client_id: 3f6a210e-83b4-4217-9eee-4f707d8aeeb3
      private_key: |
        -----BEGIN PRIVATE KEY-----
        MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCbkIjwCh2zXbUs
        ...
        s5is0+EmTLXoWCqftUG5RQ==
        -----END PRIVATE KEY-----
      certificate_thumbprint: B033DB596639F3CA02D6537055E85B8EFE060756</code></pre>
<p><strong>Secret Placeholders:</strong></p>
<p>Assuming a secret named <code>ad_token_1</code>, use <code>$$SCONE::ad_token_1$$</code> in program arguments, environment variables or secret injection files (see <a href="./#secret-injection">Secret Injection</a>). AAD token secrets do not support any format suffix. The token can be used to authenticate directly for Microsoft Azure services.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Tokens are only valid for a limited amount of time (a couple of minutes), which means they can only be used successfully immediately after program start.</p>
</div>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.10</p>
</div>
<h4 id="config-fragment">config-fragment</h4>
<p>Configuration fragments are structured values, which can be injected into other places of a session, for example <a href="./#attestation-configuration-example">the service attestation configuration</a>.
They are most useful when imported from other sessions, in order to let another session drive the security policy of this session.</p>
<p><strong>Parameters:</strong></p>
<p>None. Fragments require an explicit <code>value</code> or must be <code>import</code>ed (see <a href="./#secret-sharing">secret sharing</a>).</p>
<p><strong>Example:</strong></p>
<pre class="highlight"><code class="language-yaml">secrets:
  - name: mrenclave_list
    kind: config-fragment
    value:
      - ec8906f332d9aaada4c4c4ddd772bcbedb80562dd69e43ba87d80c3236914d8c
      - 16bcc65040c5dd79aa93ccf465cfdde485664588acfb4f9940ef81a14a048703
  - name: attestation_config_part
    kind: config-fragment
    value:
      signer:
        mrsigner: 1190831f4e21529d6702681f2906d5a27cc7cf1900bc323cd1cdedb2dc27edbd
        isvprodid: 213
        isvsvn_min: 13
  - name: isvprodid
    kind: config-fragment
    import:
      session: attestation_policy
      secret: webserver_isvprodid</code></pre>
<p><strong>Secret Placeholders:</strong></p>
<p>Assuming a secret named <code>mrenclave_list</code>, use <code>$$SCONE::mrenclave_list$$</code> in configuration sections that support it; for example <a href="./#attestation-configuration-example">the service attestation section</a>:</p>
<pre class="highlight"><code class="language-yaml">services:
  - name: loadbalancer
    attestation:
      - mrenclave:
          - 2c4de8cbe6725f7e11f2f5240bc7e0b7fe0651f2997a48c87ca38918574ef076
          - $$SCONE::mrenclave_list$$
        signer:
          mrsigner: ce24e0918a348837738a18c4ce7a3afe3aed8acb58ee6ddb6031a570a1e1401c
          isvprodid: 6
      - $$SCONE::attestation_config_part$$</code></pre>
<p>Lists will be combined, i.e. the <code>mrenclave:</code> list above will be expanded to</p>
<pre class="highlight"><code class="language-yaml">- 2c4de8cbe6725f7e11f2f5240bc7e0b7fe0651f2997a48c87ca38918574ef076
- ec8906f332d9aaada4c4c4ddd772bcbedb80562dd69e43ba87d80c3236914d8c
- 16bcc65040c5dd79aa93ccf465cfdde485664588acfb4f9940ef81a14a048703</code></pre>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.10</p>
</div>
<h4 id="pgp-key">pgp-key</h4>
<p>CAS can generate <a href="https://www.rfc-editor.org/rfc/rfc4880">OpenPGP</a> keys. These can be used for message encryption - for example using <a href="https://www.gnupg.org/">GPG</a>.</p>
<p><strong>Parameters:</strong></p>
<p>PGP keys do not support parameters or constant values at this time.</p>
<ul>
<li>Generated keys have a random (non-email) user ID</li>
<li>They consist of a primary EdDSA (Ed25519) signing key, and a ECDH (Curve25519) encryption subkey</li>
<li>They have configured AES256, SHA256 and ZLIB as preferred encryption, hashing, and compression algorithms</li>
</ul>
<p><strong>Examples:</strong></p>
<pre class="highlight"><code class="language-yaml">secrets:
    - name: my_message_encryption_key
      kind: pgp-key</code></pre>
<p><strong>Secret Placeholders:</strong></p>
<p>PGP private and public keys are accessible in binary or <a href="https://datatracker.ietf.org/doc/html/rfc4880#section-6.2">ASCII-armored</a> formats.
ASCII-armored keys are similar in nature to PEM-encoded PKCS#8 keys: They begin with a header like <code>-----BEGIN PGP PRIVATE KEY BLOCK-----</code>, and contain a base64-encoded body.</p>
<p>All keys contain both the primary signing key and the encryption subkey.
They are represented as <a href="https://datatracker.ietf.org/doc/html/rfc4880#section-5.2.3">version 4 signed keys of the OpenPGP specification</a>. </p>
<p>Assume a secret named <code>my_message_encryption_key</code>:</p>
<ul>
<li><code>$$SCONE::my_message_encryption_key:privatekey:asciiarmored$$</code> - ASCII-armored private key (starts with <code>-----BEGIN PGP PRIVATE KEY BLOCK-----</code>). Similar to the format produced by <code>gpg --export-secret-keys --armor</code></li>
<li><code>$$SCONE::my_message_encryption_key:privatekey:binary$$</code> - Binary private key. Similar to the format produced by <code>gpg --export-secret-keys</code></li>
<li><code>$$SCONE::my_message_encryption_key:privatekey:base64$$</code> - Base64-encoded binary private key</li>
<li><code>$$SCONE::my_message_encryption_key:publickey:asciiarmored$$</code> - ASCII-armored public key (starts with <code>-----BEGIN PGP PUBLIC KEY BLOCK-----</code>). Similar to the format produced by <code>gpg --export --armor</code></li>
<li><code>$$SCONE::my_message_encryption_key:publickey:binary$$</code> - Binary public key. Similar to the format produced by <code>gpg --export</code></li>
<li><code>$$SCONE::my_message_encryption_key:publickey:base64$$</code> - Base64-encoded binary public key</li>
</ul>
<h3 id="secret-injection">Secret Injection</h3>
<p>Secrets are injected via standard means (program arguments, environment, and configuration files) into a service.
For this purpose, placeholder variables can be put into program arguments, environment variables, secret injection files, and configuration sections that support it.
These variables will be replaced with the actual secret values (be it generated or given explicitly) when the service starts.
Placeholders are of the form <code>$$SCONE::secret_name:format_suffix$$</code>. The <code>:format_suffix</code> is optional. Different kinds of secrets support different formats, please have a look at <a href="./#secret-kinds">the previous chapter</a> for details.</p>
<h4 id="program-arguments-and-environment-variables">Program Arguments and Environment Variables</h4>
<p>For example, to inject a secret into a service's program arguments its command field in the session description could look like this:</p>
<pre class="highlight"><code class="language-yaml">    [...]
    command: service_name --password $$SCONE::service_password$$ --non-confidential-argument 1234 --non-confidential-flag
    [...]</code></pre>
<p>In the above example, the <code>command</code>'s program arguments will be presented to the service with <code>$$SCONE::service_password$$</code> replaced by the actual value of secret <code>service_password</code>.</p>
<p>To inject secrets into a service's environment the session description could contain this:</p>
<pre class="highlight"><code class="language-yaml">    [...]
    environment:
      FILE_ENCRYPTION_KEY: "$$SCONE::MY_SERVICES_ENCRYPTION_SECRET$$"
    [...]</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Secrets referred to (<code>service_private_key</code> and <code>MY_SERVICES_ENCRYPTION_SECRET</code> in the above example) have to be defined in the <code>secrets</code> section of the session description.</p>
</div>
<h4 id="secret-injection-files">Secret Injection Files</h4>
<p>A <em>secret injection file</em> is a file in the file system that will be updated with secrets received by the runtime from CAS.
They use the same secret placeholders that can also be used in program arguments and environment variables.</p>
<p>For example, imagine a service configuration file containing a password.
Simply writing the password into the file in cleartext would leak it - that is not an option.
Using SCONE's filesystem shield to encrypt the file complicates the setup, and - if distributed as part of an image - would require users to change the encryption keys in order to protect their individual passwords.
Instead, a secret injection file allows to specify a placeholder for the password, which will be dynamically replaced at runtime through the means of secret injection:</p>
<p><code>/etc/mysql/my.cnf</code>:</p>
<pre class="highlight"><code class="language-text">[client]
user=mysqluser
password=$$SCONE::mysqlpass$$</code></pre>
<p>The path to this configuration file must be specified as part of an image (see <a href="./#images">Images</a>). The corresponding session would look like this:</p>
<pre class="highlight"><code class="language-yaml">services:
  - name: my_database_client
    image_name: my_db_client_image

images:
  - name: my_db_client_image
    injection_files:
      - /etc/mysql/my.cnf</code></pre>
<p>Alternatively, the file's content may be specified within the session:</p>
<pre class="highlight"><code class="language-yaml">services:
  - name: my_database_client
    image_name: my_db_client_image

images:
  - name: my_db_client_image
    injection_files:
      - path: /etc/mysql/my.cnf
        content: |
          [client]
          user=mysqluser
          password=$$SCONE::mysqlpass$$
      - path: /etc/ssl/db_server_full_chain.pem
        content: |
          $$SCONE::db_server_cert:crt$$
          $$SCONE::db_server_cert:chain$$</code></pre>
<p>The <code>content</code> specified in the session file can contain multiline strings.
This way, entire configuration files can be embedded in the session description, even if no secret injection is required.
Producing valid multiline strings in YAML can be challenging - <a href="https://yaml-multiline.info/">https://yaml-multiline.info/</a> can be of great help to find the desired syntax.</p>
<p>Secret injection files are prepared during SCONE runtime initialization.
If the file content is not provided in the session, the file at the specified path is opened, potentially through SCONE's filesystem shield, and read into memory.
The secret injection is applied and the resulting file is put into SCONE's in-memory file system at the specified path.
Any application requests regarding this file are served from this in-memory file system.
Thus, modifications to secret injection files are NOT propagated into the file system and are NOT persistent across program invocations.</p>
<p>Sometimes applications demand that particular file permission are present or unset.
For example, <code>mariadb</code> will ignore configuration files that are world-writable.
Secret injection files by default have 0o700 permissions.
That is they're read-, write-, and, executable by the owner, which is always the user executing the program.
If necessary different file permissions can be set in description.
In the following snippet, only the file owner is allowed read access:</p>
<pre class="highlight"><code class="language-yaml">    injection_files:
      - path: /etc/mysql/my.cnf
        permission: 0o100
        content: |
          [client]
          user=mysqluser
          password=$$SCONE::mysqlpass$$</code></pre>
<p>Remember that secret injection files are in-memory that don't persist data, and all modification will be lost.</p>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.10</p>
</div>
<h4 id="dynamic-configurations">Dynamic Configurations</h4>
<p>Some configuration sections, like <a href="./#attestation-configuration-example">the service attestation section</a>, allow variable injection:</p>
<pre class="highlight"><code class="language-yaml">services:
  - name: loadbalancer
    attestation:
      - mrenclave:
          - 2c4de8cbe6725f7e11f2f5240bc7e0b7fe0651f2997a48c87ca38918574ef076
          - bac31957ee05e5f3f95ea10632008315bf314a536a453dbb787be02c5b920b88
        signer:
          mrsigner: ce24e0918a348837738a18c4ce7a3afe3aed8acb58ee6ddb6031a570a1e1401c
          isvprodid: 6
      - $$SCONE::attestation_config_part$$</code></pre>
<p><a href="./#config-fragment">config-fragment</a> secrets are especially useful here, since they support structured values.
<a href="./#ascii">ascii</a> and other secret kinds can be used, too, except binary-encoded secrets. When using another encoding (like <code>:hex</code>), <a href="./#binary">binary secrets</a> can be used as well.</p>
<h3 id="secret-sharing">Secret Sharing</h3>
<p>Session owners can decide to share their secrets with other parties to enable collaboration.
For example, database operators could use TLS to implement access control to databases.
They would define an access certificate, configure the database to only allow connections from said certificate and export it to the database client:</p>
<pre class="highlight"><code class="language-yaml">name: database_operator

secrets:
  - name: database_access_key
    kind: private-key
    export:
      session: database_client
  - name: database_access_certificate
    kind: x509
    private_key: database_access_key
    export:
      session: database_client</code></pre>
<p>The secret owner might also specify multiple receiving sessions - or namespaces - at once:</p>
<pre class="highlight"><code class="language-yaml">name: database_operator

secrets:
  - name: database_access_key
    kind: private-key
    export:
      - session: database_client
      - session: another_client
  - name: database_access_certificate
    kind: x509
    private_key: database_access_key
    export:
      - session: database_client
      - session: another_client
      - namespace: relying_party # since v0.3.5</code></pre>
<p>Furthermore, the export might be restricted to certain instances of the importing session.
For more details, see the concrete SCONE ID format by which other sessions can be referenced in <a href="./#referencing-other-sessions">Referencing Other Sessions</a>.</p>
<p>The database client, on the other hand, would import it and could use it in their session as if it was their own certificate:</p>
<pre class="highlight"><code class="language-yaml">name: database_client

secrets:
  - name: database_access_certificate
    kind: x509 # optional
    import:
      session: database_operator
      secret: database_access_certificate</code></pre>
<p>On the importing side, the <code>kind</code> of a secret can be optionally defined to ensure imported secrets match a specific form, but this is not strictly necessary.
When importing certificates, the associated <code>private-key</code> does not have to be imported explicitly - it will be available automatically if the exporting session exports the private key as well.</p>
<p>In very specific cases, secrets may also be made public (exported to anyone <em>without authentication</em>) - this may be useful when, for example, defining certificate key hashes:</p>
<pre class="highlight"><code class="language-yaml">name: policy_checker

secrets:
  - name: certificate_hash
    kind: ascii
    value: "4sEY84YhUKT7Q7m4qUj2pmQMxFvZK5XpDyJ3QR6mETVRDkyren"
    export_public: true</code></pre>
<p>This hash can be used in another session's access control policy through secret substitution (see <a href="./#access-control">Access Control</a>):</p>
<pre class="highlight"><code class="language-yaml">name: checked_session

secrets:
  - name: policy_checker_certificate_hash
    import:
      session: policy_checker
      secret: certificate_hash

access_policy:
  read:
    - "$$SCONE::policy_checker_certificate_hash$$"</code></pre>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>By using <code>export_public: true</code>, the whole world will be able to see the secret value. Make sure this is your intention.
These secrets may also be queried through the <code>/v1/values</code> CAS REST API endpoint.</p>
</div>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.7</p>
</div>
<h4 id="microsoft-azure-key-vault-import">Microsoft Azure Key Vault Import</h4>
<p>Existing secret values can be imported from a <em>Microsoft Azure Key Vault (AKV)</em>. This requires:</p>
<ul>
<li>a new <code>import_akv</code> mapping which specifies the vault to import from</li>
<li>an <a href="./#aad-token"><code>aad-token</code> secret</a> authorized to access this vault</li>
</ul>
<p><strong>Example:</strong></p>
<pre class="highlight"><code class="language-yaml">secrets:
  - name: db_encryption_key
    kind: binary
    import_akv:
      vault: myvaultname.vault.azure.net
      secret_name: abc
      token: $$SCONE::db-aad-token$$
  - name: db-aad-token
    kind: aad-token
    ...</code></pre>
<p><strong><code>import_akv</code> Parameters:</strong></p>
<ul>
<li><code>vault</code>: The address of the key vault to use (required)</li>
<li><code>secret_name</code>: The name of the secret that should be fetched from the vault (optional). If omitted, the <code>name</code> of the secret as defined in the session will be used</li>
<li><code>token</code>: A reference to an <code>aad-token</code> secret of the form <code>$$SCONE::&lt;secret-name&gt;$$</code>. This token will be used to authenticate requests against the vault. If the session contains exactly one <code>aad-token</code> secret, the parameter is optional, and this secret will be used by default. If the session contains multiple <code>aad-token</code> secrets, the parameter must be specified.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>import</code> and <code>import_akv</code> are mutually exclusive.
The secret's <code>kind</code> is optional and will be inferred if omitted.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>PEM-encoded certificates imported from a key vault will be represented as X.509 secrets.
PKCS#12-encoded certificates, on the other hand, will be represented as plain text secrets, i.e. suffixes such as <code>:privatekey</code> <strong>cannot</strong> be used in secret placeholders for them.</p>
</div>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.10</p>
</div>
<h3 id="secret-backends">Secret Backends</h3>
<p>By default, all session secrets are stored in the CAS database.
It is possible to select another backend.</p>
<p>When changing the backend, secret values (including FSPF keys) will be encrypted, and stored in the backend of choice.
The keys used for this encryption process, as well as freshness information will be stored in the CAS database.
This means that administrators of the chosen backend, for example Azure Key Vault, cannot access the plaintext secret values.
Deletion, modification or rollback of secret values will be detected by CAS. Note that this renders the session unusable, though - any session operation, including session update, will fail with an error when attempting to load missing or manipulated secret values.</p>
<p>It is possible to migrate existing secret values between secret backends, simply by updating the session and adding the desired <code>secret_config</code> (see below).</p>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.10</p>
</div>
<h4 id="microsoft-azure-key-vault-secret-backend">Microsoft Azure Key Vault Secret Backend</h4>
<p>All secrets can be stored in Azure Key Vault, by configuring the secret backend in the session:</p>
<pre class="highlight"><code>secret_config:
  store_in: !akv
    token: $$SCONE::my_aad_token$$
    vault: https://example.vault.microsoftazure.de</code></pre>
<p>Note that <code>my_aad_token</code> must refer to an <a href="./#aad-token">aad-token secret</a> - similar to <a href="./#microsoft-azure-key-vault-import">Microsoft Azure Key Vault Imports</a>.</p>
<p>There are some key differences between using Azure Key Vault as a secret backend, and importing individual secrets from Azure Key Vault:</p>
<ul>
<li>When using <em>Azure Key Vault as a secret backend</em>, instead of storing them in the CAS database, all secrets managed by CAS will be stored in the form <code>cas-&lt;session-hash&gt;-&lt;secret-tag&gt;</code> in the chosen Azure Key Vault. Example secret name: <code>cas-330dfcd96c99e735332bfb7a5dd147ddb2b9aac26486572a116a739062fea98b-9870723acbbc96d55ad7b29a015f696f</code></li>
<li>When using <em>Azure Key Vault as a secret backend</em>, secret values stored in the vault will be encrypted with keys managed by CAS. Having access to the Key Vault doesn't break confidentiality of secrets stored by CAS. When <em>importing secrets from Azure Key Vault</em> on the other hand, secrets are stored in plaintext and vault administrators can view them.</li>
<li>When using <em>Azure Key Vault as a secret backend</em>, secret values cannot be manually changed in the vault either. When <em>importing secrets from Azure Key Vault</em> on the other hand, secret values can be changed externally.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When updating a session, secrets of the predecessor session will <strong>not</strong> be deleted from Azure Key Vault.</p>
</div>
<h4 id="cas-database-secret-backend">CAS Database Secret Backend</h4>
<p>For reference, the default secret backend is the CAS database:</p>
<pre class="highlight"><code>secret_config:
  store_in: !cas</code></pre>
<p>It will be used by default, if no <code>secret_config</code> is present in the session.</p>
<h3 id="secret-migration">Secret Migration</h3>
<p>When uploading a new session which has a predecessor session, secret migration takes place.
In short: Secret values which were generated as part of the old session will be kept when the new session defines a secret with the same name and compatible kind.</p>
<table>
<thead>
<tr>
<th>Secret kind</th>
<th>Values kept when updating session?</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="./#ascii">ascii</a></td>
<td><img alt="" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/svg/2714.svg" title=":heavy_check_mark:" /></td>
</tr>
<tr>
<td><a href="./#binary">binary</a></td>
<td><img alt="" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/svg/2714.svg" title=":heavy_check_mark:" /></td>
</tr>
<tr>
<td><a href="./#private-key">private-key</a></td>
<td><img alt="" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/svg/26a0.svg" title=":warning:" /> only if <code>migrate: true</code> was set</td>
</tr>
<tr>
<td><a href="./#x509-and-x509-ca">x509</a></td>
<td><img alt="" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/svg/274c.svg" title=":x:" /></td>
</tr>
<tr>
<td><a href="./#pgp-key">pgp-key</a></td>
<td><img alt="" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/svg/2714.svg" title=":heavy_check_mark:" /></td>
</tr>
</tbody>
</table>
<p>Example old session:</p>
<pre class="highlight"><code class="language-yaml">secrets:
    - name: my_generated_ascii_secret
      kind: ascii
      size: 12
    - name: foobar
      kind: binary
      value: DEADBEEF</code></pre>
<p>Example new session:</p>
<pre class="highlight"><code class="language-yaml">secrets:
    - name: my_generated_ascii_secret
      kind: ascii
      size: 12
    - name: foobar
      kind: private-key</code></pre>
<p>In the given example, the value of <code>my_generated_ascii_secret</code> will be kept, as it stays an ASCII secret of the same size, whereas <code>foobar</code> will be freshly generated, since its kind changed.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Generated <a href="./#private-key">private keys</a> will only be kept if <code>migrate: true</code> was set. <a href="./#x509-and-x509-ca">Certificates</a> will never be kept, they will always be re-generated when updating a session.</p>
</div>
<p>Secret migration also takes place when using a different session description language version (e.g. 0.2 -&gt; 0.3)!</p>
<h2 id="volumes">Volumes</h2>
<p>Similar to Docker, the <code>volumes</code> keyword allows to specify file system regions that can be mounted into the file system in addition to the regions specified by the main file system protection file of a service. Each volume has an arbitrary but unique <code>name</code>. In order to grant services access to a volume, it first has to be included in an image (see section <a href="./#images">Images</a>). Subsequently, the image can be specified for a service (see section <a href="./#service-description">Service Description</a>), and all image-defined volumes will be mounted automatically.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The volume <code>name</code> is not the volume's mount point. The latter is defined as part of an <a href="./#images">image</a>.</p>
</div>
<p>By default, a volume will be automatically initialized during the first use:</p>
<pre class="highlight"><code class="language-yaml">volumes:
  - name: my_database</code></pre>
<p>The volume will contain a single encrypted region, and a new key will be generated by CAS to encrypt <code>volume.fspf</code> (the file system protection file for the volume). Once initialized, CAS and the runtime will work together to track the updates of the volume. This ensures that a volume can be initialized only once. Use of automatically initialized volumes ensures that the key for the file system is only visible inside of CAS and the application(s) that get access to this volume, i.e., no system administrator will ever see the volume key.</p>
<p>Alternatively, a file system protection file key (<code>fspf_key</code>) and file system protection file tag (<code>fspf_tag</code>) can be specified for the volume:</p>
<pre class="highlight"><code class="language-yaml">volumes:
  - name: my_database
    fspf_key: f843051d21afa9e52a5b54a708a8032bc49581e982696a81393b8da4a32d00b8
    fspf_tag: 8d8fbe332fb9c893020be791ccd3e8a8</code></pre>
<ul>
<li><code>fspf_key</code> must be either a hex-encoded 32 byte long key, ...</li>
</ul>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.7</p>
</div>
<ul>
<li>... or a reference to a compatible SCONE binary secret (<code>$$SCONE::&lt;secret-name&gt;$$</code>)</li>
<li><code>fspf_tag</code> must be a hex-encoded 16 byte value</li>
</ul>
<p><code>fspf_key</code> is the key used to encrypt the <code>volume.fspf</code> and <code>fspf_tag</code> describes the initial state of the volume. On each volume update (e.g., creation of a file in the region or update of an existing file), the SCONE runtime will send a new <code>fspf_tag</code> to CAS to ensure integrity and freshness of the volume state.</p>
<p>A volume can be initialized using the SCONE CLI's <code>scone fspf create-volume</code> command, which generates an encryption key, encrypts initial files, and calculates the initial tag to put into the session.</p>
<h3 id="volume-sharing">Volume Sharing</h3>
<p>Volumes may be exported to other sessions, which implies authorizing the other sessions to decrypt and read existing files or encrypt and store new files:</p>
<pre class="highlight"><code class="language-yaml">volumes:
  - name: my_database
    export:
      session: another-session</code></pre>
<p>or</p>
<pre class="highlight"><code class="language-yaml">volumes:
  - name: my_database
    export:
      - session: another-session
      - session: foobar
        session_hash: 668e9aaba22c7631bbcc89b627d77e53539bcaade9e7c2c08242f56aab272088</code></pre>
<p>The concrete SCONE ID format by which other sessions can be referenced is described in section <a href="./#referencing-other-sessions">Referencing Other Sessions</a>.
Note that volumes can only be exported to local sessions on the same CAS, not to sessions on a remote CAS.</p>
<p>Similarly, volumes may be imported from another session (in which case fspf key/tag and export list must be omitted):</p>
<pre class="highlight"><code class="language-yaml">volumes:
  - name: their_database
    import:
      session: the_exporting_session
      volume: my_database</code></pre>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.2</p>
</div>
<h4 id="volume-tag-update-policy">Volume Tag Update Policy</h4>
<p>When exporting a volume, it is possible to restrict which kind of modifications an importing session is allowed to perform. Section <a href="./#image-volumes">Image Volumes</a> demonstrates how volume access can be restricted for local services; the same is also possible for volume exports by using the <code>update_policy</code> key:</p>
<pre class="highlight"><code class="language-yaml">volumes:
  - name: my_database
    export:
      - to:
          session: web_server
          session_hash: 668e9aaba22c7631bbcc89b627d77e53539bcaade9e7c2c08242f56aab272088
        update_policy: ephemeral</code></pre>
<p>Note that the SCONE ID (<code>session</code> and <code>session_hash</code>) needed to be moved to a new <code>to:</code> section!</p>
<p><code>update_policy</code> can have any of the following values:</p>
<ul>
<li><code>ephemeral</code>: Importing sessions may only use the <code>ephemeral</code> policy. This implies that they are not allowed to alter the volume's state on the CAS (please read <a href="./#image-volumes">Image Volumes</a> for further explanation). Any tag policy specified by the importing session is ignored.</li>
<li><code>rollback_protected</code>: This is the default setting if <code>update_policy</code> is omitted. Importing sessions can use either a <code>rollback_protected</code> or an <code>ephemeral</code> policy at their discretion.</li>
<li><code>no_rollback_protection</code>: Importing sessions are allowed to use a <code>rollback_protected</code>, <code>ephemeral</code> or <code>no_rollback_protection</code> policy at their discretion. This option is dangerous, as it also allows third parties to perform rollbacks unnoticed. It should not be necessary for most use cases.</li>
</ul>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.10</p>
</div>
<h4 id="volume-alias">Volume Alias</h4>
<p>In multi-stakeholder processing pipelines, individual components may have only partial knowledge of the whole system.
To facilitate pipeline assembly, it is possible to export a volume under a different name (called alias) towards individual sessions:</p>
<pre class="highlight"><code class="language-yaml">name: database_server
volumes:
  - name: my_database
    export:
      - to:
          session: processing_component_1
          session_hash: 668e9aaba22c7631bbcc89b627d77e53539bcaade9e7c2c08242f56aab272088
        volume_alias: output
      - to:
          session: processing_component_2
        volume_alias: input</code></pre>
<p>When importing the volume, the alias must be specified as the volume's name:</p>
<pre class="highlight"><code class="language-yaml">name: processing_component_2
volumes:
  - name: dataset
    import:
      session: database_server
      volume: input</code></pre>
<p>During import, using the original volume name is not possible.</p>
<h2 id="images">Images</h2>
<p>The <code>images</code> keyword allows specifying images usable by services (see section <a href="./#service-description">Service Description</a>). Each image has an arbitrary but unique <code>name</code>:</p>
<pre class="highlight"><code class="language-yaml">images:
  - name: my_image</code></pre>
<h3 id="image-volumes">Image Volumes</h3>
<p>Images may define access to <a href="./#volumes">volumes</a>, by referencing a previously declared volume's <code>name</code> and giving it a mount point (<code>path</code>):</p>
<pre class="highlight"><code class="language-yaml">volumes:
  - name: my_database

images:
  - name: my_image
    volumes:
      - name: my_database
        path: /media/database</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The given path must already exist in the filesystem, e.g., through a mounted docker volume. The information provided as part of the session description are only used to encrypt and authenticate all of the volume's files. The CAS does not actually store the encrypted files.</p>
</div>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.2</p>
</div>
<h4 id="image-volume-tag-update-policy">Image Volume Tag Update Policy</h4>
<p>By default, volumes are rollback-protected: Attempting to restore an old volume state and letting a service read files from or write files to this old state will be detected and prevented. In specific cases, however, this may not be the desired behavior. The <code>update_policy</code> key can be used to change it:</p>
<pre class="highlight"><code class="language-yaml">volumes:
  - name: my_database

images:
  - name: my_image
    volumes:
      - name: my_database
        path: /media/database
        update_policy: no_rollback_protection</code></pre>
<p>The following values are possible as a volume <code>update_policy</code> policy:</p>
<ul>
<li><code>rollback_protected</code>: This is the default setting if <code>update_policy</code> is omitted. Services are allowed to alter the volume state, any rollback will be detected and lead to an error upon access. This ensures a coherent, linear history of volume changes.</li>
<li><code>ephemeral</code>: Any changes done to the volume state will be ignored by CAS. This can be useful when a volume is supposed to remain in a specific state - an initialization service could use an image with volume <code>update_policy: rollback_protected</code> to prepare the volume, and all other services can use <code>update_policy: ephemeral</code> in order to ignore further modifications. Note that this does not prevent services from modifying files and directories in the volume's path! This will still work as long as the service is running. Once it is restarted, however, CAS will detect the modification and refuse any access to the modified volume. Therefore, if you expect services to make changes to the volume, it is a good idea to back up the initialized volume, and restore this backup once the service is stopped. This ensures that new instances of the service are able to access the volume in its expected state.</li>
<li><code>no_rollback_protection</code>: Services are allowed to alter the volume's state and rollback prevention checks are disabled. This option is dangerous, as it also allows third parties to perform rollbacks unnoticed. It should not be necessary for most use cases.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using an imported volume, the exporting session may have applied restrictions on the volume's <code>update_policy</code>.
Attempting to use an unauthorized <code>update_policy</code> will lead to errors upon volume access.
For details, please refer to section <a href="./#volume-sharing">Volume Sharing</a>.</p>
</div>
<h3 id="image-secret-injection-files">Image Secret Injection Files</h3>
<p>Images may also contain secret injection files, a way to inject secrets into configuration files:</p>
<pre class="highlight"><code class="language-yaml">images:
  - name: proxy_image
    injection_files:
      - /etc/nginx/nginx.conf
      - path: /etc/mysql/my.cnf
        content: |
          [client]
          user=mysqluser
          password=$$SCONE::mysqlpass$$</code></pre>
<p>For details, refer to section <a href="./#secret-injection-files">Secret Injection Files</a>.</p>
<h2 id="access-control">Access Control</h2>
<p>Any operation on a session description requires permission. If the entity requesting a certain operation is not explicitly permitted to perform said operation, the request will fail. The <code>access_policy</code> keyword allows specifying lists of entities that are allowed to perform the following operations:</p>
<ul>
<li><code>read</code>: permit to read the session description - without the secrets generated by CAS</li>
<li><code>update</code>: permit to update the session</li>
</ul>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.5</p>
</div>
<ul>
<li><code>create_sessions</code>: Create new sessions in the <a href="./#namespaces">namespace</a> of this session. If omitted, all entities listed under <code>update</code> will be able to create sessions.</li>
</ul>
<p>Granting permission to a certain entity to perform one of these operations involves adding their client certificate public key to the list of authorized entities.
A certificate with this key shall be used when establishing a connection to CAS (see <a href="../cas-api/">API Documentation, Authentication section</a>). TLS ensures that the client is in possession of the corresponding private key.
 CAS uses key-based authentication instead of whole certificate authentication to ensure that certificates can be renewed without problems - otherwise, users could be locked out of the session when their certificate expires.
 When using the scone CLI, the user certificate can be shown by running <code>scone self show</code>.</p>
<p>Beside public certificates, the following values can be used:</p>
<ul>
<li>Public key hash of a certificate. This hash can be calculated by using the SCONE CLI: <code>scone self show</code> shows the hash of the CLI client identity, <code>scone cert show-key-hash "path_to_certificate_file_in_pem_format"</code> shows the key hash for any certificate file. A valid hash looks similar to: <code>3s1pm8W6Be6cxvAQRbRP5YXd9YuERAr7KswN97uGtoPkRW87x1</code></li>
<li><code>CREATOR</code> keyword: permit access to the creator of the policy: this is the public key of the TLS client certificate used when creating this session</li>
<li><code>ANY</code> keyword: permit access to any entity. If <code>ANY</code> is specified, there must be no other entries in the list for this operation</li>
<li><code>NONE</code> keyword: deny all requests for a particular operation. If <code>NONE</code> is specified, there must be no other entries in the list for this operation</li>
<li><code>$$SCONE::secret-name$$</code> will dynamically use the value of a secret with the given name (<code>secret-name</code>) at permission evaluation time. The replaced value must be either <code>CREATOR</code> (ascii), a certificate key hash (ascii) or certificate (x509) as defined above. It is possible to use explicit secrets, generated secrets, and imported secrets. When referencing X.509 certificates, do not specify a format suffix. If the mentioned secret does not exist, cannot be read, or has an incompatible value, it will be ignored, but an error message will be shown on unsuccessful authentication attempts.</li>
<li>
<p><code>signer: &lt;public key&gt;</code>: Public key of a session signer. Signing sessions is an alternative to using TLS client certificates during session upload. <code>scone self show-session-signing-key</code> shows the CLI signer identity. The public key is an X.509 Subject Public Key Info (SPKI, see <a href="https://datatracker.ietf.org/doc/html/rfc5280#section-4.1.2.7">RFC 5280 section 4.1.2.7</a>) encoded. At the moment, Ed25519 and P384/secp384r1 keys are supported. A valid public key looks similar to:
    <pre class="highlight"><code>-----BEGIN PUBLIC KEY-----
MCowBQYDK2VwAyEAOsufQ7RCOXueVLQBpk7Y44GAaj+LzPbmHfdr/TPdlrE=
-----END PUBLIC KEY-----</code></pre>
    Note that signers are not supported in the <code>read</code> policy.</p>
</li>
<li>
<p><code>require-all:</code> or <code>require-at-least-X:</code> - Please refer to <a href="./#governance">governance</a></p>
</li>
</ul>
<p>By default, the access policy is defined as follows:</p>
<pre class="highlight"><code class="language-yaml">access_policy:
  read:
   - CREATOR
  update:
   - CREATOR
  create_sessions:
    &lt;same as update&gt;</code></pre>
<p>Default values will be used for operations not explicitly specified in a session description.</p>
<p>Example policy:</p>
<pre class="highlight"><code class="language-yaml">access_policy:
  read:
    - CREATOR
    - 3s1pm8W6Be6cxvAQRbRP5YXd9YuERAr7KswN97uGtoPkRW87x1
    - |
      -----BEGIN CERTIFICATE-----
      MIIFwTCCA6mgAwIBAgIUCF1MVJJ78BIf4WmTE24aAX7NlHowDQYJKoZIhvcNAQEL
      BQAwcDELMAkGA1UEBhMCVVMxDzANBgNVBAgMBk9yZWdvbjERMA8GA1UEBwwIUG9y
      dGxhbmQxFTATBgNVBAoMDENvbXBhbnkgTmFtZTEMMAoGA1UECwwDT3JnMRgwFgYD
      VQQDDA93d3cuZXhhbXBsZS5jb20wHhcNMTkwNzIyMTU1NTExWhcNMTkwODIyMTU1
      NTExWjBwMQswCQYDVQQGEwJVUzEPMA0GA1UECAwGT3JlZ29uMREwDwYDVQQHDAhQ
      b3J0bGFuZDEVMBMGA1UECgwMQ29tcGFueSBOYW1lMQwwCgYDVQQLDANPcmcxGDAW
      BgNVBAMMD3d3dy5leGFtcGxlLmNvbTCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCC
      AgoCggIBALVbVIrBAlzDOztWs9hZr5kvYoUwq/hL7zaMrYKBLQJZFNbhmMaUsW7A
      Fzj87dzP3xIf4c2r3IGJSukv7hJpaJ2Ykv80i3C7EiFgaDV/+JP9d/GjsvcW20zH
      mtJcBIkdkqPt1epOtxsMyJGZL+34DoWOqgY7up6nCirr+MeUxYJ/dWBFD1j0iuHl
      Y+rEMsv4xFBndgLmMQNlcMyXtBgPls4EgnDfnjICqIYMHt6PG+kwoR4tbs+v2Gsl
      vqldxI7efErZh+kKtjtFxt6qzrypUs9bYgH3tsaUE0xYeK/A2llylJzPOv6vkCqg
      vPOJETcZyoeH46niITdPssYr4yPQOxn/a7WS+7Mn2y6o5z4Q+DkB96lzUyvVJnwO
      aorzec0PaB/qqYrHqVfftMu4thMwHGB8CrGUiq/ImHPWkfobyVcMYJ0/LaLSDHFj
      1hN36VkzWqQcCM6ymhjx9Lpfzzxna5910jE86zb1cMnD/eAAd90jpJvGJN43Hw40
      MIvjYBunOy9P3ah0kgCk7gW0oKlYHxugv8pZVHMwU1HFIdwYvlGd09XHFDyj9tul
      eX8zaVwaNeLUrMdJN5Ct1HX16RpnpaIMwwExzXgsZ01BQcfIcGWGbvBfH2C86klt
      SuG7M6kxk4XgIIlwTSGk7qJlfd4s8PD1fVJNKvJZwXXoQBy4hCrTAgMBAAGjUzBR
      MB0GA1UdDgQWBBRSUKop9QDGmSdLCfzWlBIF5ClNVDAfBgNVHSMEGDAWgBRSUKop
      9QDGmSdLCfzWlBIF5ClNVDAPBgNVHRMBAf8EBTADAQH/MA0GCSqGSIb3DQEBCwUA
      A4ICAQAny4QmzvCza0TQUuh7YIxtkBjJoyTSDGmr5W/4AWKsoZJM9QxzWeIAXhWD
      UPH2TfwcNX/ovZiSDQaGduRL67Wk8lbp1MvjACMEtLRjsbnYtGFdhit0fR97B5Y6
      d06Ka/NXgPTJorXx8WSWUp0qaAQcgvhfgF0vnOSB5CbP5RSYE5TuLu6gh+iQTrBI
      Syl+9UaopkbQDRsg+XRfie+kUxQgldUAFvFmu6sM6FTbw0KGkrsOajwpF/Fu5hSV
      Ucov4Lzrrxkok5FzWPkVtMalLZ4Du+ZUYG//10WZg+HdrIwx3m2wxrFIkZaMKxv4
      ZkIMsb6DUPUZqy8qZpMzIqvDzx3iYEWWfBOCJWBjs8/V1mAuUu6TBCKAJpvfX6bU
      hNrCbnrpuxuCCPJnj9sXkBDvl5rcyfshTtKl3NoBrRRDuUHWsJWzsKvBQtwN46vF
      CbF0aXOozihtmmcMpFFeDIj6p/5qlaJtslegtfv2zoztc3e2ituOjqFQ/I5pplvo
      p8EGwCI1xTGF0BTatcSV1+lLNeONhhAtwliV13nPSH1o4yxoZ+xZTZq4+9ylw7dq
      yV3BQM11U6OyAPE1G6EX0PgFvLm25sGTJq9TKXs9yWPRit9vHcOCXSGn8osn4SMg
      Puqpk+3M9xR8XDPJiBjkxcSnt9+EDNwpthTzgUEoyM6dY8nvWA==
      -----END CERTIFICATE-----
    - "$$SCONE::remote_validation_service$$"
  update:
    - signer: |
        -----BEGIN PUBLIC KEY-----
        MCowBQYDK2VwAyEAOsufQ7RCOXueVLQBpk7Y44GAaj+LzPbmHfdr/TPdlrE=
        -----END PUBLIC KEY-----
  create_sessions:
    - NONE</code></pre>
<p>This policy will allow read requests from the creator, a user whose TLS client certificate has a public key hash <code>3s1pm8W6Be6cxvAQRbRP5YXd9YuERAr7KswN97uGtoPkRW87x1</code>, a user whose TLS client certificate has a public key similar to the one of the certificate specified in the session description and a user whose credential is taken from the secret named <code>remote_validation_service</code> (which may be imported from another session).
The session may only be updated if successors are signed by the given signer identity:
<pre class="highlight"><code>-----BEGIN PUBLIC KEY-----
MCowBQYDK2VwAyEAOsufQ7RCOXueVLQBpk7Y44GAaj+LzPbmHfdr/TPdlrE=
-----END PUBLIC KEY-----</code></pre>
No one is allowed to create sessions in its namespace.</p>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.10</p>
</div>
<p>Individual sections or the entire access_policy can be replaced with variables, too:</p>
<pre class="highlight"><code class="language-yaml">access_policy: $$SCONE::external_policy$$</code></pre>
<pre class="highlight"><code class="language-yaml">access_policy:
  update: $$SCONE::external_update_policy$$</code></pre>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Make sure that referenced secrets are valid and stay valid over the course of the session's lifetime, otherwise you may lose access to your session.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When an imported access policy (fragment) contains <code>CREATOR</code>, the reference is evaluated in the context of the importing session, i.e. the creator of the importing session is being authorized.</p>
</div>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.10</p>
</div>
<h3 id="governance">Governance</h3>
<p>For multi-stakeholder computations, controlling access to a session with a single credential is insufficient.
The <strong>governance</strong> system allows multi-credential access control using <code>require-all</code> and <code>require-at-least-X</code> rules.</p>
<p>Example:</p>
<pre class="highlight"><code class="language-yaml">access_policy:
  read: NONE
  update:
    require-all:
      - require-at-least-2:
          - signer: $voter1
          - signer: $voter2
          - signer: $voter3
      - require-all:
          - signer: $veto_member1
          - signer: $veto_member2</code></pre>
<p>The above example requires an update to a session to be signed by <strong>both</strong> <code>$veto_member1</code> and <code>$veto_member2</code>, as well as at least 2 of the 3 <code>$voter</code>s.</p>
<p>Governance rules can be used in the <code>update</code> and <code>create_sessions</code> access policies, but not in the <code>read</code> access policy.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>require-all</code> and <code>require-at-least-X</code> rules are designed to be used with <code>signer</code>s.
While it is possible to specify certificates or certificate key hashes, remember that a session can be created either using exactly one TLS client certificate, or one or more signatures.
Therefore, it does not make sense to require more than one certificate at a time.</p>
</div>
<p>Rules can be arbitrarily deeply nested.
Extended example:</p>
<pre class="highlight"><code class="language-yaml">access_policy:
  read: NONE
  update:
    require-at-least-1:
      - signer: $owner
      - require-all:
          - require-at-least-2:
              - signer: $voter1
              - signer: $voter2
              - signer: $voter3
          - require-all:
              - signer: $veto_member1
              - signer: $veto_member2</code></pre>
<p>This example works the same as the previous one, but additionally allows the <code>$owner</code> to overrule all other members.</p>
<h2 id="attestation-security">Attestation Security</h2>
<p>The services' security directly depends on CAS' ability to verify that a service process has not been manipulated (referred to as attestation), as described in <a href="./#attestation">the service attestation section</a>. CAS ships with secure defaults, and only allows hardware-attested services running on trustworthy platforms in secure production-mode enclaves.</p>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.9</p>
</div>
<h3 id="singleton-enclaves">Singleton Enclaves</h3>
<p>SCONE Singleton Enclaves ensures that each enclave is uniquely identifiable via attestation mitigating attacks in which the adversary exploits the enclave before it connects to CAS.
Typically enclaves containing the same software can not be distinguished via attestation making it impossible to ensure the freshness of an enclave, i.e., ensuring that the enclave has not been used before.
Therefore an adversary that is able to control the enclave could load code that pretends to be a fresh enclave and illegitimately obtain secrets from CAS.
With SCONE Singleton Enclaves, CAS is able to verify each enclave's freshness, essentially mitigating these kinds of attacks.</p>
<p>Whether this protection is necessary is application dependent.
For most applications such an attack requires a severe security vulnerability the adversary is able to exploit.
However, if the application loads code dynamically, which must be explicitly allowed by setting <code>SCONE_ALLOW_DLOPEN</code> in SCONE, contains a code interpreter, such as Python, Java, Ruby, JavaScript, etc, or compiles code just in time (JIT) it is much easier to exploit.
For such applications we <strong>strongly recommend</strong> using singleton enclaves.</p>
<p>If in doubt, we suggest you activate the feature as it has only very little negative effects:
* Enclaves require a bit longer to start on current hardware (in the order of 100 ms), and
* SGX-derived seal keys are not consistent across enclave restarts (the corresponding SCONE  interface to fetch seal keys will be disabled). Thou, such keys can easily be replaced with keys managed by CAS as shown in above in the #[Secrets] section.
* Lastly, singleton enclaves are currently incompatible with vault files and fork support.</p>
<p>Note that, <strong>in production environments, Singleton Enclaves currently require hardware with FLC (Flexible Launch Control)</strong> support.
FLC was introduced in 2018 (<a href="https://software.intel.com/content/www/us/en/develop/blogs/an-update-on-3rd-party-attestation.html">An update on 3<sup>rd</sup> Party Attestation</a>) by Intel and most modern Processors should support it.</p>
<p>Singleton enclave support was added in SCONE 5.7.0 and can be opted in with the following option in <code>security</code>:</p>
<pre class="highlight"><code class="language-yaml">security:
  singleton_enclaves: true</code></pre>
<p>Singleton enclaves will be enabled by default starting with the next session language version.</p>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.1</p>
</div>
<h3 id="tolerating-hardware-attestation-issues">Tolerating Hardware Attestation Issues</h3>
<p>Sometimes it may be necessary to relax the secure defaults, for instance, when:</p>
<ul>
<li>Services should run in a testing environment for debugging purposes</li>
<li>A trade-off is being made between security and performance, like enabling Hyper-Threading (which opens an Information Disclosure Side Channel)</li>
<li>A platform with known security vulnerabilities is used in a testing environment</li>
</ul>
<p>Example:</p>
<pre class="highlight"><code class="language-yaml">security:
  attestation:
    tolerate: [debug-mode, hyperthreading]</code></pre>
<p><code>tolerate</code> is an array which can hold the following variants:</p>
<ul>
<li><code>debug-mode</code> enclaves allow introspection with a debugger. This disables enclave protection, all secrets can be extracted.</li>
<li><code>hyperthreading</code>: Enabled Hyper-Threading opens a Microarchitectural Data Sampling Information Disclosure Side Channel on Intel SGX platforms. If the performance penalty can be tolerated, disabling Hyper-Threading instead of ignoring the issue may be viable. See <a href="https://www.intel.com/content/www/us/en/security-center/advisory/intel-sa-00233.html">https://www.intel.com/content/www/us/en/security-center/advisory/intel-sa-00233.html</a></li>
<li><code>insecure-igpu</code>: An enabled integrated GPU could be exploited to disclose information on Intel SGX platforms. If not required for operation, disable the IGPU instead of tolerating this issue. See <a href="https://www.intel.com/content/www/us/en/security-center/advisory/intel-sa-00219.html">https://www.intel.com/content/www/us/en/security-center/advisory/intel-sa-00219.html</a></li>
<li><code>software-hardening-needed</code>: The service program needs to be re-compiled with different compiler settings to protect against exploits. This is a category for a collection of Intel SGX advisories, which need to be specified separately (see below).</li>
<li><code>aepic-leak</code>: The platform is vulnerable to AEPIC Leak, which can be used to disclose information. See <a href="https://www.intel.com/content/www/us/en/security-center/advisory/intel-sa-00657.html">https://www.intel.com/content/www/us/en/security-center/advisory/intel-sa-00657.html</a> and <a href="https://aepicleak.com">https://aepicleak.com</a></li>
<li><code>insecure-configuration</code>: The platform needs to be reconfigured to protect against certain kinds of attacks. This is a category for a collection of Intel SGX advisories, which need to be specified separately (see below).</li>
<li><code>outdated-tcb</code>: The Trusted Computing Base (TCB) of the platform, i.e. firmware or microcode, needs to be updated due to security flaws. This is a category for a collection of Intel SGX advisories, which need to be specified separately (see below).</li>
</ul>
<p>When running a service on a platform that is affected by one of the above problems, attestation will fail with an error, unless they have been specified in the <code>tolerate</code> list. The error message will contain instructions on how to change attestation security settings in order to ignore the specific problems.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Instead of ignoring platform security issues, solving them should always be preferred. Often, this involves updating the platform's firmware or CPU microcode. Sometimes, it can be necessary to change BIOS/UEFI settings or recompile the service with different settings. The error message as well as linked Intel advisories contain more details.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Displayed attestation error messages are not authenticated, and may be forged by a MitM attacker. It is advisable to critically review the suggested configuration changes as well as Intel advisories.</p>
</div>
<p>Intel will release advisories when becoming aware of new security issues with SGX-enabled processors. Some of the problems listed in these advisories are encountered more frequently, in which case SCONE/CAS provide shortcuts to ignore them (like <code>hyperthreading</code>). Others may be more severe or very recent. In order to ignore them, they and their associated category (<code>software-hardening-needed</code> / <code>insecure-configuration</code> / <code>outdated-tcb</code>) need to be specified explicitly. Example:</p>
<pre class="highlight"><code class="language-yaml">security:
  attestation:
    tolerate: [outdated-tcb]
    ignore_advisories: [INTEL-SA-00161, INTEL-SA-00270]</code></pre>
<p>When in <code>debug-mode</code>, all advisories can be ignored by using a wildcard, simplifying the workflow in testing environments:</p>
<pre class="highlight"><code class="language-yaml">security:
  attestation:
    tolerate: [debug-mode, outdated-tcb]
    ignore_advisories: "*"</code></pre>
<p>As this silently ignores newly released platform advisories too, wildcards cannot be used in (non-debug) production mode.</p>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.1</p>
</div>
<h3 id="trusted-scone-quoting-enclaves">Trusted SCONE Quoting Enclaves</h3>
<p>By default, the system uses the SCONE attestation scheme. This scheme is built around a separate quoting enclave (QE), into which trust has to be established. This is done automatically using EPID-based attestation for a set of known trustworthy QE measurements embedded into the CAS software.</p>
<p>If EPID-based attestation is not available, or you want to use custom QEs, the QE public keys can be manually specified as trustworthy:</p>
<pre class="highlight"><code class="language-yaml">security:
  attestation:
    trusted_scone_qe_pubkeys: ["E37F149AE30896E314A2859874C5A9C7803FB3187B99F5D08E526B1C0396507C"]</code></pre>
<p>The QE public key can be found in the log output of the Local Attestation Service (LAS). Specified keys are an additional trust anchor, and do not replace the trusted built-in QE measurements. To trust the given keys exclusively, additionally enable <a href="./#platform-based-attestation">platform-based attestation</a> for individual services.</p>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.7</p>
</div>
<h3 id="microsoft-azure-attestation">Microsoft Azure Attestation</h3>
<p>Services running on the <em>Microsoft Azure</em> cloud computing platform may optionally be attested using <a href="https://azure.microsoft.com/en-us/services/azure-attestation/"><em>Microsoft Azure Attestation (MAA)</em></a>.
With the default hardware attestation mode, APIs provided by the hardware vendor (Intel) will be used to determine trustworthiness of the platform. When enabling MAA, an API provided by Microsoft will be used instead.
In addition, MAA allows setting up <a href="https://docs.microsoft.com/en-us/azure/attestation/author-sign-policy">Azure attestation policies</a>, which can be managed independently of SCONE policies. Note that these policies do not replace the policies defined in the session (including, for example, MRENCLAVE values or debug mode), a service must match <em>both</em> policies in order to be attested successfully. In particular, this allows using one of the <a href="https://docs.microsoft.com/en-us/azure/attestation/basic-concepts#regional-shared-provider">shared attestation providers</a> for which no specific Azure attestation policy can be configured - all services remain protected by the SCONE attestation policy.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li>MAA is only available for services running on the Azure platform. Attempting to attest services running on a different platform using MAA will fail.</li>
<li>Only SGX TEEs are supported, TPM attestation is not supported at the moment.</li>
<li>Using MAA is optional - services running on an Azure platform can also be attested using the default hardware attestation mode.</li>
</ul>
</div>
<p>Example MAA configuration:</p>
<pre class="highlight"><code class="language-yaml">security:
  attestation:
    mode: maa
    url: https://sharedweu.weu.attest.azure.net
    tolerate: [debug, maa-managed-tcb]</code></pre>
<p>The following attestation parameters are supported:</p>
<ul>
<li><code>mode: maa</code> enables MAA-based attestation and disables the default hardware attestation mode.</li>
<li><code>url</code> points to the MAA service provider to be used (required). This can be one of the <a href="https://docs.microsoft.com/en-us/azure/attestation/basic-concepts#regional-shared-provider">shared attestation providers</a> or a custom one. It must be of the form <code>https://&lt;tenant&gt;.&lt;region&gt;.attest.azure.net/</code></li>
<li><code>certificates</code> is an optional list of trusted (CA) certificate used to authenticate the MAA service. If omitted, a set of default <a href="https://www.microsoft.com/pkiops/Docs/Repository.htm">Microsoft Azure TLS Issuing CAs</a> will be used. MAA produces <a href="https://docs.microsoft.com/en-us/azure/attestation/basic-concepts#attestation-token">tokens</a>, whose signatures will be verified against keys acquired from an OpenID metadata endpoint (<code>&lt;url&gt;/certs</code>). The connection to this endpoint will be secured with TLS, authenticated by the configured trusted <code>certificates</code>.</li>
<li><code>min_rsa_signing_key_size</code> determines the minimum size of RSA signing keys that will be allowed to sign MAA tokens, in bits (optional). If omitted, only keys with 2048 bits (or longer) will be accepted. At the time of writing, Microsoft uses 2048 bit long keys in all Azure regions. Since SCONE 5.8.0, this option was deprecated and has no effect anymore</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Within the <a href="./#tolerating-hardware-attestation-issues"><code>tolerate</code> section</a>, <code>maa-managed-tcb</code> must be set when using MAA.
At the moment, MAA does not expose the security posture of the platform's TCB itself, and it therefore cannot be verified using a SCONE policy. This implies that tolerating security vulnerabilities of the platform is managed at the discretion of the MAA service itself. If strict control over the platform's security status is required, the default hardware attestation mode may be more suitable.</p>
</div>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.1</p>
</div>
<h3 id="disabling-attestation">Disabling attestation</h3>
<p>Attestation can be completely disabled:</p>
<pre class="highlight"><code class="language-yaml">security:
  attestation:
    mode: none  # Default mode is 'hardware'</code></pre>
<p>This may be useful in testing environments where no hardware-based attestation is available.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Disabling attestation implies that there is <strong>no service authentication being performed at all</strong> (unless a second factor is configured). Everybody with access to CAS can access all secrets of all of this session's services.</p>
</div>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.9</p>
</div>
<h3 id="2fa-with-service-access-tokens">2FA with Service Access Tokens</h3>
<p>Sessions support Two-factor Authentication (2FA) using shared secrets, called <strong>Service Access Tokens</strong>.
This feature offers an additional layer of authentication on top of service attestation.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Service Access Tokens were added in SCONE 5.7.0.</p>
</div>
<p>To enable the feature, add a Service Access Token to the session's security configuration:</p>
<pre class="highlight"><code class="language-yaml">security:
  service_access_token: j765WyMWTKksiqWbBuuc</code></pre>
<p>There are no restrictions regarding the length or content of the token, however we recommend that the token should be a randomly generated password of sufficient length with high entropy.</p>
<p>Once enabled, the <code>SCONE_SERVICE_ACCESS_TOKEN</code> environment variable must be set when starting one of the session's services.
For the above configuration example, this would be: <code>SCONE_SERVICE_ACCESS_TOKEN=j765WyMWTKksiqWbBuuc</code></p>
<p>Service Access Tokens are used for bidirectional authentication - CAS will only provision secrets to a service enclave with the correct <code>SCONE_SERVICE_ACCESS_TOKEN</code> set, and the service enclave will only accept secrets from a CAS with the correct <code>service_access_token</code> in its session.</p>
<p>Use cases for Service Access Tokens could be:</p>
<ul>
<li><em>Defense in Depth.</em> The additional factor provides another layer of security, complementing attestation.</li>
<li><em>Platform Identification.</em> Restrict which machines can run a service by provisioning the <code>SCONE_SERVICE_ACCESS_TOKEN</code> environment variable to nodes in a designated cluster.</li>
<li><em>Testing without Attestation.</em> When attestation is disabled, access tokens provide a way to authenticate services (even when running SCONE in simulation mode). This does not ensure a trusted execution environment, however. Since the <code>SCONE_SERVICE_ACCESS_TOKEN</code> environment variable will be accessible by orchestrators and cloud service providers, we do not recommend relying on access tokens alone, without attestation.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Service Access Tokens are visible when reading a session (<code>read</code> <a href="./#access-control">access policy</a>)</p>
</div>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.8</p>
</div>
<h3 id="2fa-with-time-based-one-time-passwords">2FA with Time-based One-time Passwords</h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This feature is experimental! Its syntax and usage may change in the future. This will not be considered a breaking change.</p>
</div>
<p>Sessions support Two-factor Authentication (2FA) with One-time Passwords (OTP) generated by the <a href="https://datatracker.ietf.org/doc/html/rfc6238">Time-based One-time Password Algorithm (TOTP)</a>. This feature offers an additional layer of authentication on top of attestation. Hence, OTPs can be used to authenticate individual service executions from a session during attestation. Its implementation adheres to <a href="https://datatracker.ietf.org/doc/html/rfc6238">RFC6238</a>. The implementation generates OTP values with the length of six digits and uses a <a href="https://datatracker.ietf.org/doc/html/rfc6238#section-4.2">time-step</a> of 30 seconds.</p>
<p>To enable the 2FA, a <a href="https://datatracker.ietf.org/doc/html/rfc4648#section-6">RFC4648 base32 encoded</a> <a href="https://datatracker.ietf.org/doc/html/rfc4226#section-4">shared secret</a> must be specified in the session security attestation subsection. This shared secret must have a length of at least 128 bits:</p>
<pre class="highlight"><code class="language-yaml">security:
  attestation:
    one_time_password_shared_secret: BASE32SECRET3232BASE32SECRET3232</code></pre>
<p>To authenticate the execution of a service of a 2FA-enabled session, an OTP value must be generated using the TOTP with the supplied shared secret. The generated OTP value must then be appended to the <code>SCONE_CONFIG_ID</code> delimited with an <code>@</code> when the service is executed:</p>
<pre class="highlight"><code class="language-bash">SCONE_CONFIG_ID=my-session/my-service@123456 /app/my-service</code></pre>
<p>The service attestation will only commence once the CAS has verified the given OTP.</p>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.10</p>
</div>
<p>The OTP shared secret can also be a reference to another secret in the session:</p>
<pre class="highlight"><code class="language-yaml">security:
  attestation:
    one_time_password_shared_secret: $$SCONE::otp_shared_secret:base32nopad$$

secrets:
  - name: otp_shared_secret
    kind: binary
    import:
      session: otp_policy
      secret: otp_shared_secret</code></pre>
<p>The referenced secret must either be a <a href="https://datatracker.ietf.org/doc/html/rfc4648#section-6">RFC4648 base32-encoded</a> <a href="./#ascii">ascii value</a>, or a <a href="./#binary">binary secret</a> with a size of at least 16. When using a binary secret, make sure to specify the <code>:base32nopad</code> format suffix.</p>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.10</p>
</div>
<p>Shared secrets can also be set on a per-service basis:</p>
<p>&nbsp;</p>
<pre class="highlight"><code class="language-yaml">services:
  - name: my-service
    one_time_password_shared_secret: BASE32SECRET3232BASE32SECRET3232</code></pre>
<p>If a shared secret was configured both in the <code>services</code> section as well as the <code>security</code> section, the one taken from <code>services</code> takes precedence.</p>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.10</p>
</div>
<h3 id="delegating-security-decisions-to-other-sessions">Delegating Security Decisions to Other Sessions</h3>
<p>Parts of, or even the entire <code>security</code> section can be replaced with a SCONE variable. The referenced secret can be a <a href="./#config-fragment">configuration fragment</a> imported from another session. This allows delegation of security decisions to other (administrative) sessions.</p>
<pre class="highlight"><code class="language-yaml">security:
  attestation: $$SCONE::central_attestation_policy$$

secrets:
  - name: central_attestation_policy
    kind: config-fragment
    import:
      session: admin_session
      secret: attestation_policy</code></pre>
<h2 id="referencing-other-sessions">Referencing Other Sessions</h2>
<p>In some cases it may be necessary to reference other sessions, e.g. when exporting or importing <a href="./#volumes">volumes</a> or <a href="./#secret-sharing">secrets</a>.
This is possible by using a SCONE ID. The following sections describe the format and content of this ID.</p>
<h3 id="local-cas-sessions">Local CAS Sessions</h3>
<p>Referencing another session on the same CAS is simple:</p>
<ul>
<li><code>session: &lt;session name&gt;</code> - e.g. <code>session: my-database</code></li>
</ul>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.5</p>
</div>
<ul>
<li>Pointing to sessions in a namespace: <code>session: &lt;namespace name&gt;/&lt;session name&gt;</code></li>
</ul>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.10</p>
</div>
<ul>
<li>Pointing to sessions in the same namespace as the current session using a relative path: <code>session: ../&lt;sibling session name&gt;</code> (it is also possible to go up multiple levels of namespaces: <code>session: ../../../&lt;session name&gt;</code>) <em>(added in SCONE 5.8.0)</em></li>
</ul>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.10</p>
</div>
<ul>
<li>Pointing to sessions nested in the current session: <code>session: ./&lt;nested session name&gt;</code> <em>(added in SCONE 5.8.0)</em></li>
</ul>
<p>Note that, depending on the context, you may also have to supply a secret, volume or service name, e.g.:</p>
<pre class="highlight"><code class="language-yaml">session: my-database
secret: db-encryption-key</code></pre>
<p>By using this simple form, you trust the session's owner, and accept that their session configuration may change over time.
If you want to trust a specific session configuration instead, you have to additionally specify a <em>session hash</em>:</p>
<pre class="highlight"><code class="language-yaml">session: &lt;session name&gt;
session_hash: &lt;session hash-key&gt;</code></pre>
<p>e.g.:</p>
<pre class="highlight"><code class="language-yaml">session: my-database
session_hash: a51c14dd7029d2ef54a50a9e26efcdd37c4971b5b62cb6d244c9216f80b6eadf</code></pre>
<p>Exporting/Importing elements to/from the other session will be prevented by the CAS when the currently active session does not match the specified hash.
Note that, in this case, your own session may cease working when importing secrets or volumes from another session whose hash has changed, requiring you to update the session.</p>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.6</p>
</div>
<p>When exporting secrets to another session, access is only granted to this specific session, excluding nested sessions. Exporting to all nested sessions is possible using the <code>namespace</code> keyword (instead of <code>session</code>):</p>
<pre class="highlight"><code class="language-yaml">namespace: &lt;session name&gt;</code></pre>
<p>The namespace session itself can access the secret as well. Relative paths are usable, too. Note that it is not possible to restrict session hashes when exporting to a namespace. Exporting to a namespace is currently only possible for secrets, not for volumes.</p>
<h3 id="sessions-on-another-cas">Sessions on another CAS</h3>
<p>Referencing sessions on another CAS requires more information - the remote CAS' address and a key to authenticate it:</p>
<pre class="highlight"><code class="language-yaml">cas_url: &lt;CAS address&gt;
cas_key: &lt;CAS key hash&gt;
session: &lt;session name&gt;</code></pre>
<p>e.g.:</p>
<pre class="highlight"><code class="language-yaml">cas_url: cas.example.com
cas_key: 46YyxrywJ8PFRruWX8YLxa9q4axxYJgTbA81tv7NBcJfn43DQt
session: company-storage</code></pre>
<p>The <code>cas_key</code> is used for authentication and ensures that exports/imports will only be performed to/from the correct CAS.
<strong>It is of utmost importance to specify a verified, correct key.</strong>
When a CAS was attested using the CLI, you can query its verified key by using <code>scone cas show-identification -c</code>.
Similarly, when attesting a CAS, you can supply the key received from another session's owner by using <code>scone cas attest -c &lt;CAS key hash&gt;</code>.</p>
<p>By using <code>cas_key</code>, you trust the remote CAS' owner and allow them to perform software updates without further confirmation.
Most of the time, this is an adequate solution.
In specific cases, when trusting the remote CAS' owner is not an option, it may be necessary to pin a specific CAS software revision instead.
This may be done by using the <code>cas_software_key</code> instead of a <code>cas_key</code>:</p>
<pre class="highlight"><code class="language-yaml">cas_url: &lt;CAS address&gt;
cas_software_key: &lt;CAS key hash&gt;
session: &lt;session name&gt;</code></pre>
<p>e.g.:</p>
<pre class="highlight"><code class="language-yaml">cas_url: cas.example.com
cas_software_key: 3AC5RSbL73aVVf98m2UMTN2BFsQv6eQufi5BGBxrG8awxP4ygQ
session: my-namespace/company-storage</code></pre>
<p>In this case, exporting/importing elements to/from the other session will be prevented by the local CAS when the software of the remote CAS changes.
The same limitations as specified for the usage of a <code>session_hash</code> apply here as well.
The software key can be retrieved or specified on the CLI by using <code>scone cas show-identification -s</code> and <code>scone cas attest -s &lt;CAS software key hash&gt;</code> respectively.</p>
<h3 id="url-short-form">URL short form</h3>
<p>Instead of using YAML syntax, you can also fit all SCONE ID fields on a single line, forming a SCONE URL.</p>
<p>For instance,</p>
<pre class="highlight"><code class="language-yaml">cas_url: cas.example.com
cas_software_key: 3AC5RSbL73aVVf98m2UMTN2BFsQv6eQufi5BGBxrG8awxP4ygQ
session: company-storage</code></pre>
<p>can also be written as</p>
<p><code>cas.example.com/cas_software_key=3AC5RSbL73aVVf98m2UMTN2BFsQv6eQufi5BGBxrG8awxP4ygQ,session=company-storage</code></p>
<p>This may be useful when referencing the same CAS multiple times, as the CAS URL and keys can be extracted into a common variable, example:</p>
<pre class="highlight"><code class="language-yaml">    export:
     - $OTHER_CAS,session=A
     - $OTHER_CAS,session=B
     - $OTHER_CAS,session=C</code></pre>
<p>For replacing the variable with a concrete value, please refer to the SCONE CLI documentation.</p>
<p>The same format can also be used when referencing sessions on the local CAS. Simply omit the host and keys (but notice the leading slash <code>/</code>):</p>
<p><code>/session=company-storage,session_hash=a51c14dd7029d2ef54a50a9e26efcdd37c4971b5b62cb6d244c9216f80b6eadf</code></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Relative paths (session or namespace names starting with <code>../</code> or <code>./</code>) cannot be used together with the URL short form.</p>
</div>
<div class="admonition success inline end">
<p class="admonition-title">v0.3.8</p>
</div>
<h2 id="host-program-arguments-and-environment-variables">Host Program Arguments and Environment Variables</h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This feature works <strong>only</strong> with SCONE version 5.6.0 and higher.</p>
</div>
<p>In 5.6.0 we added a capability to use some of the <code>host</code> argv if
that was specified in the session. Or in other words, one can <code>mix</code> secure and insecure
variables in secure manner. That allows us to use variables values which are only know at
runtime and can <strong>not</strong> be specified in secure session.</p>
<h3 id="host-program-arguments-argv">Host Program Arguments (argv)</h3>
<p>To use program arguments that could be specified by the operator the session file
has to contain <code>@@#position of the argument in host argv</code>. For example in session:
<pre class="highlight"><code>command: ./print-arg-env arg1 @@1 @@2</code></pre>
Then during the execution operator will specify 2 missing arguments:
<pre class="highlight"><code>$host ./print-arg-env arg2 arg3</code></pre>
Which will give us the following result:
<pre class="highlight"><code>./print-arg-env arg1 arg2 arg3</code></pre></p>
<p>If an operator does <strong>not</strong> specify all arguments anticipated by a session this will
lead to a fatal error. Because this will imply access beyond host <code>argc</code>, which is
unsafe. Also, duplicate positions (for example @@1 @@1) is a fatal error.</p>
<h3 id="host-environment-variables">Host Environment Variables</h3>
<p>The same idea was applied to environment variables.
Session has to contain <code>\@\@HOST_NAME</code>, like:
<pre class="highlight"><code>environment:
      \@\@NAME: SESSION_VALUE</code></pre>
Value specified in the session will be ignored.
An operator has to define the environment variable <code>NAME=VALUE</code>. And this host 
variable will be used by the runtime. If a host does <strong>not</strong> have variable anticipated by a
session, we will define it empty <code>NAME=</code> and leave it to an application to handle.</p>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../cas_intro/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Concepts" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Concepts
            </div>
          </div>
        </a>
      
      
        
        <a href="../auditLog/" class="md-footer__link md-footer__link--next" aria-label="Next: Audit Log" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Audit Log
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright Scontain &copy; 2018-2025
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="http://www.scontain.com" target="_blank" rel="noopener" title="www.scontain.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.1-20.4-4.2-41.8-4.2-64 0-22.2 2.1-43.6 4.2-64h185.4c2.1 20.4 3.3 41.8 3.3 64zm151.9-64c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42.9 3.2-64 0-22-1.1-43.4-3.2-64h123.1zm-10.5-32H376.7c-10-63.86-29.8-117.38-55.3-151.558C399.8 29.09 463.4 85.94 493.4 160zm-149.1 0H167.7c6.1-36.4 15.5-68.62 27-94.65 10.5-23.61 22.2-40.74 33.5-51.54C239.4 3.178 248.7 0 256 0c7.3 0 16.6 3.178 27.8 13.81 11.3 10.8 23 27.93 33.5 51.54 11.5 26.03 20.9 58.25 27 94.65zm-325.69 0C48.59 85.94 112.2 29.09 190.6 8.442 165.1 42.62 145.3 96.14 135.3 160H18.61zm112.59 32c-2.1 20.6-4.1 42-4.1 64 0 21.1 2 43.4 4.1 64H8.065C2.8 299.5 0 278.1 0 256s2.8-43.5 8.065-64H131.2zm63.5 254.6c-11.5-26-20.9-58.2-27-94.6h176.6c-6.1 36.4-15.5 68.6-27 94.6-10.5 23.7-22.2 40.8-33.5 51.6-11.2 10.6-20.5 13.8-28.7 13.8-6.4 0-15.7-3.2-26.9-13.8-11.3-10.8-23-27.9-33.5-51.6zm-4.1 57C112.2 482.9 48.59 426.1 18.61 352H135.3c10 63.9 29.8 117.4 55.3 151.6zm130.8 0c25.5-34.2 45.3-87.7 55.3-151.6h116.7c-30 74.1-93.6 130.9-172 151.6z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://www.linkedin.com/company/scontain/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
    
    
    <a href="mailto:info@scontain.com" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="m511.6 36.86-64 415.1a32.008 32.008 0 0 1-31.65 27.147c-4.188 0-8.319-.815-12.29-2.472l-122.6-51.1-50.86 76.29C226.3 508.5 219.8 512 212.8 512c-11.5 0-20.8-9.3-20.8-20.8v-96.18c0-7.115 2.372-14.03 6.742-19.64L416 96 122.3 360.3 19.69 317.5C8.438 312.8.812 302.2.062 289.1s5.47-23.72 16.06-29.77l448-255.1c10.69-6.109 23.88-5.547 34 1.406S513.5 24.72 511.6 36.86z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.tabs.sticky"], "search": "../assets/javascripts/workers/search.bd0b6b67.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.5413a266.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.6.0/clipboard.min.js"></script>
      
        <script src="../css/extra.js"></script>
      
        <script src="../search/main.js"></script>
      
    
  </body>
</html>